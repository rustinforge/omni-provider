{"version":3,"sources":["../src/version.ts","../src/providers/base.ts","../src/providers/openrouter.ts","../src/providers/openai.ts","../src/providers/anthropic.ts","../src/providers/google.ts","../src/providers/xai.ts","../src/providers/deepseek.ts","../src/providers/moonshot.ts","../src/providers/opencode.ts","../src/providers/azure.ts","../src/providers/anyscale.ts","../src/providers/together.ts","../src/providers/fireworks.ts","../src/providers/mistral.ts","../src/providers/cohere.ts","../src/providers/perplexity.ts","../src/router/smart-router.ts","../src/stats.ts","../src/models.ts","../src/core/manager.ts","../src/commands/stats.ts","../src/commands/providers.ts","../src/config/index.ts","../src/index.ts"],"sourcesContent":["export const VERSION = '1.0.0';\n","/**\n * Base LLM Provider\n * \n * Abstract base class for all LLM providers.\n */\n\nimport type { OpenClawPluginApi } from \"openclaw\";\nimport type {\n  LLMProvider,\n  ProviderConfig,\n  ChatCompletionRequest,\n  ChatCompletionResponse,\n  ProviderCapabilities,\n} from \"../types.js\";\n\nexport abstract class BaseLLMProvider {\n  provider: LLMProvider = 'openrouter';\n  name: string = 'BaseLLMProvider';\n  protected api!: OpenClawPluginApi;\n  protected config!: ProviderConfig;\n  protected initialized = false;\n  protected running = false;\n\n  /**\n   * Initialize the provider\n   */\n  async initialize(api: OpenClawPluginApi, config: ProviderConfig): Promise<void> {\n    this.api = api;\n    this.config = config;\n    this.initialized = true;\n  }\n\n  /**\n   * Start the provider\n   */\n  async start(): Promise<void> {\n    this.ensureInitialized();\n    this.running = true;\n  }\n\n  /**\n   * Stop the provider\n   */\n  async stop(): Promise<void> {\n    this.running = false;\n  }\n\n  /**\n   * Complete a chat completion request\n   */\n  abstract complete(request: ChatCompletionRequest): Promise<ChatCompletionResponse>;\n\n  /**\n   * Stream a chat completion request\n   */\n  async *stream(request: ChatCompletionRequest): AsyncGenerator<any> {\n    throw new Error(`${this.name}: Streaming not implemented`);\n  }\n\n  /**\n   * Check if provider supports a specific model\n   */\n  supportsModel(modelId: string): boolean {\n    return this.config.models?.includes(modelId) || false;\n  }\n\n  /**\n   * Get provider capabilities\n   */\n  getCapabilities(): ProviderCapabilities {\n    return this.config.capabilities || {};\n  }\n\n  /**\n   * Get base URL for API calls\n   */\n  protected getBaseUrl(): string {\n    return this.config.baseUrl || this.getDefaultBaseUrl();\n  }\n\n  /**\n   * Get default base URL (override in subclasses)\n   */\n  protected getDefaultBaseUrl(): string {\n    return 'https://api.openrouter.ai/v1';\n  }\n\n  /**\n   * Get API key\n   */\n  protected getApiKey(): string {\n    return this.config.apiKey || '';\n  }\n\n  /**\n   * Ensure provider is initialized\n   */\n  protected ensureInitialized(): void {\n    if (!this.initialized) {\n      throw new Error(`${this.name}: Not initialized`);\n    }\n  }\n\n  /**\n   * Generate request ID\n   */\n  protected generateId(): string {\n    return `chatcmpl-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`;\n  }\n}\n","/**\n * OpenRouter Provider\n * \n * OpenRouter meta-provider - routes to many models.\n */\n\nimport type { ChatCompletionRequest, ChatCompletionResponse } from \"../../types\";\nimport { BaseLLMProvider } from \"./base\";\n\nexport class OpenRouterProvider extends BaseLLMProvider {\n  private baseUrl = 'https://openrouter.ai/api/v1';\n\n  constructor() {\n    super();\n    this.provider = 'openrouter';\n    this.name = 'OpenRouter';\n  }\n\n  protected getDefaultBaseUrl(): string {\n    return this.baseUrl;\n  }\n\n  async complete(request: ChatCompletionRequest): Promise<ChatCompletionResponse> {\n    this.ensureInitialized();\n\n    const body: Record<string, unknown> = {\n      model: request.model,\n      messages: request.messages,\n      temperature: request.temperature,\n      max_tokens: request.maxTokens,\n      top_p: request.topP,\n      stream: false,\n    };\n\n    if (request.tools) {\n      body.tools = request.tools;\n    }\n\n    if (request.responseFormat) {\n      body.response_format = request.responseFormat;\n    }\n\n    const response = await fetch(`${this.getBaseUrl()}/chat/completions`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${this.getApiKey()}`,\n        'Content-Type': 'application/json',\n        'HTTP-Referer': 'https://openclaw.ai',\n        'X-Title': 'OpenClaw',\n      },\n      body: JSON.stringify(body),\n    });\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({}));\n      throw new Error(`OpenRouter API error: ${error.error?.message || response.statusText}`);\n    }\n\n    const data = await response.json() as any;\n    \n    return {\n      id: data.id || this.generateId(),\n      model: data.model || request.model,\n      choices: data.choices?.map((c: any) => ({\n        index: c.index || 0,\n        message: {\n          role: c.message?.role || 'assistant',\n          content: c.message?.content || '',\n          toolCalls: c.message?.tool_calls,\n        },\n        finishReason: c.finish_reason || 'stop',\n      })) || [],\n      usage: data.usage ? {\n        promptTokens: data.usage.prompt_tokens || 0,\n        completionTokens: data.usage.completion_tokens || 0,\n        totalTokens: data.usage.total_tokens || 0,\n      } : undefined,\n      created: data.created || Date.now(),\n    };\n  }\n\n  async *stream(request: ChatCompletionRequest): AsyncGenerator<any> {\n    this.ensureInitialized();\n\n    const body: Record<string, unknown> = {\n      model: request.model,\n      messages: request.messages,\n      temperature: request.temperature,\n      max_tokens: request.maxTokens,\n      stream: true,\n    };\n\n    const response = await fetch(`${this.getBaseUrl()}/chat/completions`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${this.getApiKey()}`,\n        'Content-Type': 'application/json',\n        'HTTP-Referer': 'https://openclaw.ai',\n        'X-Title': 'OpenClaw',\n      },\n      body: JSON.stringify(body),\n    });\n\n    if (!response.ok) {\n      throw new Error(`OpenRouter API error: ${response.statusText}`);\n    }\n\n    const reader = response.body?.getReader();\n    if (!reader) throw new Error('No response body');\n\n    const decoder = new TextDecoder();\n    let buffer = '';\n\n    while (true) {\n      const { done, value } = await reader.read();\n      if (done) break;\n\n      buffer += decoder.decode(value, { stream: true });\n      const lines = buffer.split('\\n');\n      buffer = lines.pop() || '';\n\n      for (const line of lines) {\n        const trimmed = line.trim();\n        if (!trimmed || !trimmed.startsWith('data: ')) continue;\n        if (trimmed === 'data: [DONE]') return;\n\n        try {\n          const data = JSON.parse(trimmed.slice(6));\n          yield {\n            id: data.id,\n            choices: [{\n              index: 0,\n              delta: data.choices?.[0]?.delta || {},\n              finishReason: data.choices?.[0]?.finish_reason,\n            }],\n          };\n        } catch { /* ignore */ }\n      }\n    }\n  }\n}\n","/**\n * OpenAI Provider\n */\n\nimport type { ChatCompletionRequest, ChatCompletionResponse } from \"../../types\";\nimport { BaseLLMProvider } from \"./base\";\n\nexport class OpenAIProvider extends BaseLLMProvider {\n  private baseUrl = 'https://api.openai.com/v1';\n\n  constructor() {\n    super();\n    this.provider = 'openai';\n    this.name = 'OpenAI';\n  }\n\n  protected getDefaultBaseUrl(): string {\n    return this.baseUrl;\n  }\n\n  async complete(request: ChatCompletionRequest): Promise<ChatCompletionResponse> {\n    this.ensureInitialized();\n\n    const body: Record<string, unknown> = {\n      model: request.model,\n      messages: request.messages,\n      temperature: request.temperature,\n      max_tokens: request.maxTokens,\n      top_p: request.topP,\n      stream: false,\n    };\n\n    if (request.tools) body.tools = request.tools;\n    if (request.toolChoice) body.tool_choice = request.toolChoice;\n    if (request.responseFormat) body.response_format = request.responseFormat;\n    if (request.reasoning) body.reasoning_effort = request.reasoning.effort;\n\n    const response = await fetch(`${this.getBaseUrl()}/chat/completions`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${this.getApiKey()}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(body),\n    });\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({}));\n      throw new Error(`OpenAI API error: ${error.error?.message || response.statusText}`);\n    }\n\n    const data = await response.json() as any;\n    \n    return {\n      id: data.id || this.generateId(),\n      model: data.model || request.model,\n      choices: data.choices?.map((c: any) => ({\n        index: c.index || 0,\n        message: {\n          role: c.message?.role || 'assistant',\n          content: c.message?.content || '',\n          toolCalls: c.message?.tool_calls,\n        },\n        finishReason: c.finish_reason || 'stop',\n      })) || [],\n      usage: data.usage ? {\n        promptTokens: data.usage.prompt_tokens || 0,\n        completionTokens: data.usage.completion_tokens || 0,\n        totalTokens: data.usage.total_tokens || 0,\n      } : undefined,\n      created: data.created || Date.now(),\n    };\n  }\n\n  async *stream(request: ChatCompletionRequest): AsyncGenerator<any> {\n    this.ensureInitialized();\n\n    const body: Record<string, unknown> = {\n      model: request.model,\n      messages: request.messages,\n      temperature: request.temperature,\n      max_tokens: request.maxTokens,\n      stream: true,\n    };\n\n    const response = await fetch(`${this.getBaseUrl()}/chat/completions`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${this.getApiKey()}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(body),\n    });\n\n    if (!response.ok) {\n      throw new Error(`OpenAI API error: ${response.statusText}`);\n    }\n\n    const reader = response.body?.getReader();\n    if (!reader) throw new Error('No response body');\n\n    const decoder = new TextDecoder();\n    let buffer = '';\n\n    while (true) {\n      const { done, value } = await reader.read();\n      if (done) break;\n\n      buffer += decoder.decode(value, { stream: true });\n      const lines = buffer.split('\\n');\n      buffer = lines.pop() || '';\n\n      for (const line of lines) {\n        const trimmed = line.trim();\n        if (!trimmed || !trimmed.startsWith('data: ')) continue;\n        if (trimmed === 'data: [DONE]') return;\n\n        try {\n          const data = JSON.parse(trimmed.slice(6));\n          yield {\n            id: data.id,\n            choices: [{\n              index: 0,\n              delta: data.choices?.[0]?.delta || {},\n              finishReason: data.choices?.[0]?.finish_reason,\n            }],\n          };\n        } catch { /* ignore */ }\n      }\n    }\n  }\n}\n","/**\n * Anthropic Provider\n */\n\nimport type { ChatCompletionRequest, ChatCompletionResponse } from \"../../types\";\nimport { BaseLLMProvider } from \"./base\";\n\n// Anthropic uses a different API format\nexport class AnthropicProvider extends BaseLLMProvider {\n  private baseUrl = 'https://api.anthropic.com/v1';\n\n  constructor() {\n    super();\n    this.provider = 'anthropic';\n    this.name = 'Anthropic';\n  }\n\n  protected getDefaultBaseUrl(): string {\n    return this.baseUrl;\n  }\n\n  async complete(request: ChatCompletionRequest): Promise<ChatCompletionResponse> {\n    this.ensureInitialized();\n\n    // Convert OpenAI format to Anthropic format\n    const systemMessage = request.messages.find(m => m.role === 'system');\n    const userMessages = request.messages.filter(m => m.role !== 'system');\n    \n    const body: Record<string, unknown> = {\n      model: this.mapModel(request.model),\n      max_tokens: request.maxTokens || 4096,\n      temperature: request.temperature,\n      messages: userMessages.map(m => ({\n        role: m.role === 'assistant' ? 'assistant' : 'user',\n        content: m.content,\n      })),\n    };\n\n    if (systemMessage) {\n      body.system = systemMessage.content;\n    }\n\n    const response = await fetch(`${this.getBaseUrl()}/messages`, {\n      method: 'POST',\n      headers: {\n        'x-api-key': this.getApiKey(),\n        'anthropic-version': '2023-06-01',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(body),\n    });\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({}));\n      throw new Error(`Anthropic API error: ${error.error?.message || response.statusText}`);\n    }\n\n    const data = await response.json() as any;\n    \n    return {\n      id: data.id || this.generateId(),\n      model: data.model || request.model,\n      choices: [{\n        index: 0,\n        message: {\n          role: 'assistant',\n          content: data.content?.[0]?.text || '',\n        },\n        finishReason: data.stop_reason || 'stop',\n      }],\n      usage: data.usage ? {\n        promptTokens: data.usage.input_tokens || 0,\n        completionTokens: data.usage.output_tokens || 0,\n        totalTokens: (data.usage.input_tokens || 0) + (data.usage.output_tokens || 0),\n      } : undefined,\n      created: Date.now(),\n    };\n  }\n\n  private mapModel(model: string): string {\n    const mapping: Record<string, string> = {\n      'claude-sonnet-4': 'claude-sonnet-4-20250514',\n      'claude-opus-4': 'claude-opus-4-20251114',\n      'claude-haiku-4': 'claude-haiku-4-20250704',\n      'sonnet': 'claude-sonnet-4-20250514',\n      'opus': 'claude-opus-4-20251114',\n      'haiku': 'claude-haiku-4-20250704',\n    };\n    return mapping[model] || model;\n  }\n}\n","/**\n * Google Provider (Gemini)\n */\n\nimport type { ChatCompletionRequest, ChatCompletionResponse } from \"../../types\";\nimport { BaseLLMProvider } from \"./base\";\n\nexport class GoogleProvider extends BaseLLMProvider {\n  private baseUrl = 'https://generativelanguage.googleapis.com/v1beta';\n\n  constructor() {\n    super();\n    this.provider = 'google';\n    this.name = 'Google';\n  }\n\n  protected getDefaultBaseUrl(): string {\n    return this.baseUrl;\n  }\n\n  async complete(request: ChatCompletionRequest): Promise<ChatCompletionResponse> {\n    this.ensureInitialized();\n\n    const model = this.mapModel(request.model);\n    const messages = this.convertMessages(request.messages);\n\n    const body: Record<string, unknown> = {\n      contents: messages,\n      generationConfig: {\n        temperature: request.temperature,\n        maxOutputTokens: request.maxTokens,\n        topP: request.topP,\n      },\n    };\n\n    const url = `${this.getBaseUrl()}/models/${model}:generateContent?key=${this.getApiKey()}`;\n    \n    const response = await fetch(url, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(body),\n    });\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({}));\n      throw new Error(`Google API error: ${error.error?.message || response.statusText}`);\n    }\n\n    const data = await response.json() as any;\n    \n    const content = data.candidates?.[0]?.content?.parts?.[0]?.text || '';\n    \n    return {\n      id: data.id || this.generateId(),\n      model: data.modelVersion || request.model,\n      choices: [{\n        index: 0,\n        message: {\n          role: 'assistant',\n          content,\n        },\n        finishReason: data.candidates?.[0]?.finishReason || 'STOP',\n      }],\n      usage: {\n        promptTokens: data.usageMetadata?.promptTokenCount || 0,\n        completionTokens: data.usageMetadata?.candidatesTokenCount || 0,\n        totalTokens: data.usageMetadata?.totalTokenCount || 0,\n      },\n      created: Date.now(),\n    };\n  }\n\n  private mapModel(model: string): string {\n    const mapping: Record<string, string> = {\n      'gemini-2.5-pro': 'gemini-2.5-pro-preview-0605',\n      'gemini-2.5-flash': 'gemini-2.5-flash-preview-0605',\n      'gemini-1.5-pro': 'gemini-1.5-pro',\n      'gemini-1.5-flash': 'gemini-1.5-flash',\n      'pro': 'gemini-2.5-pro-preview-0605',\n      'flash': 'gemini-2.5-flash-preview-0605',\n    };\n    return mapping[model] || model;\n  }\n\n  private convertMessages(messages: any[]): any[] {\n    return messages.map(m => ({\n      role: m.role === 'system' ? 'user' : m.role,\n      parts: [{ text: m.content }],\n    }));\n  }\n}\n","/**\n * xAI Provider (Grok)\n */\n\nimport type { ChatCompletionRequest, ChatCompletionResponse } from \"../../types\";\nimport { BaseLLMProvider } from \"./base\";\n\nexport class XAIProvider extends BaseLLMProvider {\n  private baseUrl = 'https://api.x.ai/v1';\n\n  constructor() {\n    super();\n    this.provider = 'xai';\n    this.name = 'xAI';\n  }\n\n  protected getDefaultBaseUrl(): string {\n    return this.baseUrl;\n  }\n\n  async complete(request: ChatCompletionRequest): Promise<ChatCompletionResponse> {\n    this.ensureInitialized();\n\n    const body: Record<string, unknown> = {\n      model: request.model,\n      messages: request.messages,\n      temperature: request.temperature,\n      max_tokens: request.maxTokens,\n      stream: false,\n    };\n\n    const response = await fetch(`${this.getBaseUrl()}/chat/completions`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${this.getApiKey()}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(body),\n    });\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({}));\n      throw new Error(`xAI API error: ${error.error?.message || response.statusText}`);\n    }\n\n    const data = await response.json() as any;\n    \n    return {\n      id: data.id || this.generateId(),\n      model: data.model || request.model,\n      choices: data.choices?.map((c: any) => ({\n        index: c.index || 0,\n        message: {\n          role: c.message?.role || 'assistant',\n          content: c.message?.content || '',\n        },\n        finishReason: c.finish_reason || 'stop',\n      })) || [],\n      usage: data.usage ? {\n        promptTokens: data.usage.prompt_tokens || 0,\n        completionTokens: data.usage.completion_tokens || 0,\n        totalTokens: data.usage.total_tokens || 0,\n      } : undefined,\n      created: data.created || Date.now(),\n    };\n  }\n\n  async *stream(request: ChatCompletionRequest): AsyncGenerator<any> {\n    this.ensureInitialized();\n\n    const body: Record<string, unknown> = {\n      model: request.model,\n      messages: request.messages,\n      temperature: request.temperature,\n      max_tokens: request.maxTokens,\n      stream: true,\n    };\n\n    const response = await fetch(`${this.getBaseUrl()}/chat/completions`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${this.getApiKey()}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(body),\n    });\n\n    if (!response.ok) {\n      throw new Error(`xAI API error: ${response.statusText}`);\n    }\n\n    const reader = response.body?.getReader();\n    if (!reader) throw new Error('No response body');\n\n    const decoder = new TextDecoder();\n    let buffer = '';\n\n    while (true) {\n      const { done, value } = await reader.read();\n      if (done) break;\n\n      buffer += decoder.decode(value, { stream: true });\n      const lines = buffer.split('\\n');\n      buffer = lines.pop() || '';\n\n      for (const line of lines) {\n        const trimmed = line.trim();\n        if (!trimmed || !trimmed.startsWith('data: ')) continue;\n        if (trimmed === 'data: [DONE]') return;\n\n        try {\n          const data = JSON.parse(trimmed.slice(6));\n          yield {\n            id: data.id,\n            choices: [{\n              index: 0,\n              delta: data.choices?.[0]?.delta || {},\n              finishReason: data.choices?.[0]?.finish_reason,\n            }],\n          };\n        } catch { /* ignore */ }\n      }\n    }\n  }\n}\n","/**\n * DeepSeek Provider\n */\n\nimport type { ChatCompletionRequest, ChatCompletionResponse } from \"../../types\";\nimport { BaseLLMProvider } from \"./base\";\n\nexport class DeepSeekProvider extends BaseLLMProvider {\n  private baseUrl = 'https://api.deepseek.com/v1';\n\n  constructor() {\n    super();\n    this.provider = 'deepseek';\n    this.name = 'DeepSeek';\n  }\n\n  protected getDefaultBaseUrl(): string {\n    return this.baseUrl;\n  }\n\n  async complete(request: ChatCompletionRequest): Promise<ChatCompletionResponse> {\n    this.ensureInitialized();\n\n    const body: Record<string, unknown> = {\n      model: request.model,\n      messages: request.messages,\n      temperature: request.temperature,\n      max_tokens: request.maxTokens,\n      stream: false,\n    };\n\n    const response = await fetch(`${this.getBaseUrl()}/chat/completions`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${this.getApiKey()}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(body),\n    });\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({}));\n      throw new Error(`DeepSeek API error: ${error.error?.message || response.statusText}`);\n    }\n\n    const data = await response.json() as any;\n    \n    return {\n      id: data.id || this.generateId(),\n      model: data.model || request.model,\n      choices: data.choices?.map((c: any) => ({\n        index: c.index || 0,\n        message: {\n          role: c.message?.role || 'assistant',\n          content: c.message?.content || '',\n        },\n        finishReason: c.finish_reason || 'stop',\n      })) || [],\n      usage: data.usage ? {\n        promptTokens: data.usage.prompt_tokens || 0,\n        completionTokens: data.usage.completion_tokens || 0,\n        totalTokens: data.usage.total_tokens || 0,\n      } : undefined,\n      created: data.created || Date.now(),\n    };\n  }\n}\n","/**\n * Moonshot Provider (Kimi)\n */\n\nimport type { ChatCompletionRequest, ChatCompletionResponse } from \"../../types\";\nimport { BaseLLMProvider } from \"./base\";\n\nexport class MoonshotProvider extends BaseLLMProvider {\n  private baseUrl = 'https://api.moonshot.cn/v1';\n\n  constructor() {\n    super();\n    this.provider = 'moonshot';\n    this.name = 'Moonshot';\n  }\n\n  protected getDefaultBaseUrl(): string {\n    return this.baseUrl;\n  }\n\n  async complete(request: ChatCompletionRequest): Promise<ChatCompletionResponse> {\n    this.ensureInitialized();\n\n    const body: Record<string, unknown> = {\n      model: request.model,\n      messages: request.messages,\n      temperature: request.temperature,\n      max_tokens: request.maxTokens,\n      stream: false,\n    };\n\n    const response = await fetch(`${this.getBaseUrl()}/chat/completions`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${this.getApiKey()}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(body),\n    });\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({}));\n      throw new Error(`Moonshot API error: ${error.error?.message || response.statusText}`);\n    }\n\n    const data = await response.json() as any;\n    \n    return {\n      id: data.id || this.generateId(),\n      model: data.model || request.model,\n      choices: data.choices?.map((c: any) => ({\n        index: c.index || 0,\n        message: {\n          role: c.message?.role || 'assistant',\n          content: c.message?.content || '',\n        },\n        finishReason: c.finish_reason || 'stop',\n      })) || [],\n      usage: data.usage ? {\n        promptTokens: data.usage.prompt_tokens || 0,\n        completionTokens: data.usage.completion_tokens || 0,\n        totalTokens: data.usage.total_tokens || 0,\n      } : undefined,\n      created: data.created || Date.now(),\n    };\n  }\n}\n","/**\n * OpenCode Provider\n * \n * OpenCode free models provider.\n * Supports Big Pickle, GPT-5 Nano, Kimi K2.5 Free, MiniMax M2.5 Free.\n */\n\nimport type { ChatCompletionRequest, ChatCompletionResponse, Choice } from \"../../types\";\nimport { BaseLLMProvider } from \"./base\";\n\nconst OPENCODE_MODELS = ['big-pickle', 'gpt-5-nano', 'kimi-k2.5-free', 'minimax-m2.5-free'];\n\nexport class OpenCodeProvider extends BaseLLMProvider {\n  private baseUrl = 'https://api.opencode.ai/v1';\n\n  constructor() {\n    super();\n    this.provider = 'opencode';\n    this.name = 'OpenCode';\n  }\n\n  protected getDefaultBaseUrl(): string {\n    return this.baseUrl;\n  }\n\n  supportsModel(modelId: string): boolean {\n    return OPENCODE_MODELS.includes(modelId) || modelId.startsWith('opencode/');\n  }\n\n  async complete(request: ChatCompletionRequest): Promise<ChatCompletionResponse> {\n    this.ensureInitialized();\n\n    const model = request.model.replace('opencode/', '');\n    \n    const body: Record<string, unknown> = {\n      model,\n      messages: request.messages,\n      temperature: request.temperature,\n      max_tokens: request.maxTokens,\n      stream: false,\n    };\n\n    if (request.tools) {\n      body.tools = request.tools;\n    }\n\n    try {\n      const response = await fetch(`${this.getBaseUrl()}/chat/completions`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${this.getApiKey()}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body),\n      });\n\n      if (!response.ok) {\n        const error = await response.json().catch(() => ({}));\n        throw new Error(`OpenCode API error: ${error.error?.message || response.statusText}`);\n      }\n\n      const data = await response.json() as any;\n      \n      return {\n        id: data.id || this.generateId(),\n        model: data.model || request.model,\n        choices: data.choices?.map((c: any) => ({\n          index: c.index || 0,\n          message: {\n            role: c.message?.role || 'assistant',\n            content: c.message?.content || '',\n            toolCalls: c.message?.tool_calls,\n          },\n          finishReason: c.finish_reason || 'stop',\n        })) || [],\n        usage: data.usage ? {\n          promptTokens: data.usage.prompt_tokens || 0,\n          completionTokens: data.usage.completion_tokens || 0,\n          totalTokens: data.usage.total_tokens || 0,\n        } : undefined,\n        created: data.created || Date.now(),\n      };\n    } catch (err) {\n      throw new Error(`OpenCode request failed: ${err instanceof Error ? err.message : String(err)}`);\n    }\n  }\n\n  async *stream(request: ChatCompletionRequest): AsyncGenerator<any> {\n    this.ensureInitialized();\n\n    const model = request.model.replace('opencode/', '');\n    \n    const body: Record<string, unknown> = {\n      model,\n      messages: request.messages,\n      temperature: request.temperature,\n      max_tokens: request.maxTokens,\n      stream: true,\n    };\n\n    const response = await fetch(`${this.getBaseUrl()}/chat/completions`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${this.getApiKey()}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(body),\n    });\n\n    if (!response.ok) {\n      throw new Error(`OpenCode API error: ${response.statusText}`);\n    }\n\n    const reader = response.body?.getReader();\n    if (!reader) throw new Error('No response body');\n\n    const decoder = new TextDecoder();\n    let buffer = '';\n\n    while (true) {\n      const { done, value } = await reader.read();\n      if (done) break;\n\n      buffer += decoder.decode(value, { stream: true });\n      const lines = buffer.split('\\n');\n      buffer = lines.pop() || '';\n\n      for (const line of lines) {\n        const trimmed = line.trim();\n        if (!trimmed || !trimmed.startsWith('data: ')) continue;\n        if (trimmed === 'data: [DONE]') return;\n\n        try {\n          const data = JSON.parse(trimmed.slice(6));\n          yield {\n            id: data.id,\n            choices: [{\n              index: 0,\n              delta: data.choices?.[0]?.delta || {},\n              finishReason: data.choices?.[0]?.finish_reason,\n            }],\n          };\n        } catch { /* ignore parse errors */ }\n      }\n    }\n  }\n}\n","/**\n * Azure OpenAI Provider\n */\n\nimport type { ChatCompletionRequest, ChatCompletionResponse } from \"../../types\";\nimport { BaseLLMProvider } from \"./base\";\n\nexport class AzureProvider extends BaseLLMProvider {\n  protected getDefaultBaseUrl(): string {\n    return this.config.baseUrl || '';\n  }\n\n  async complete(request: ChatCompletionRequest): Promise<ChatCompletionResponse> {\n    this.ensureInitialized();\n\n    const body: Record<string, unknown> = {\n      messages: request.messages,\n      temperature: request.temperature,\n      max_tokens: request.maxTokens,\n      stream: false,\n    };\n\n    const deploymentName = request.model;\n    const url = `${this.getBaseUrl()}/openai/deployments/${deploymentName}/chat/completions?api-version=2024-02-15-preview`;\n\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'api-key': this.getApiKey(),\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(body),\n    });\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({}));\n      throw new Error(`Azure API error: ${error.error?.message || response.statusText}`);\n    }\n\n    const data = await response.json() as any;\n    \n    return {\n      id: data.id || this.generateId(),\n      model: data.model || request.model,\n      choices: data.choices?.map((c: any) => ({\n        index: c.index || 0,\n        message: { role: c.message?.role || 'assistant', content: c.message?.content || '' },\n        finishReason: c.finish_reason || 'stop',\n      })) || [],\n      usage: data.usage,\n      created: Date.now(),\n    };\n  }\n}\n","import type { ChatCompletionRequest, ChatCompletionResponse } from \"../../types\";\nimport { BaseLLMProvider } from \"./base\";\n\nexport class AnyscaleProvider extends BaseLLMProvider {\n  private baseUrl = 'https://api.endpoints.anyscale.com/v1';\n  protected getDefaultBaseUrl(): string { return this.baseUrl; }\n  async complete(request: ChatCompletionRequest): Promise<ChatCompletionResponse> {\n    this.ensureInitialized();\n    const body: Record<string, unknown> = { model: request.model, messages: request.messages, temperature: request.temperature, max_tokens: request.maxTokens, stream: false };\n    const response = await fetch(`${this.getBaseUrl()}/chat/completions`, { method: 'POST', headers: { 'Authorization': `Bearer ${this.getApiKey()}`, 'Content-Type': 'application/json' }, body: JSON.stringify(body) });\n    if (!response.ok) throw new Error(`Anyscale API error: ${response.statusText}`);\n    const data = await response.json() as any;\n    return { id: data.id || this.generateId(), model: data.model || request.model, choices: data.choices?.map((c: any) => ({ index: c.index||0, message: { role: c.message?.role||'assistant', content: c.message?.content||'' }, finishReason: c.finish_reason||'stop' }))||[], usage: data.usage, created: Date.now() };\n  }\n}\n","import type { ChatCompletionRequest, ChatCompletionResponse } from \"../../types\";\nimport { BaseLLMProvider } from \"./base\";\nexport class TogetherProvider extends BaseLLMProvider {\n  private baseUrl = 'https://api.together.xyz/v1';\n  protected getDefaultBaseUrl(): string { return this.baseUrl; }\n  async complete(request: ChatCompletionRequest): Promise<ChatCompletionResponse> {\n    this.ensureInitialized();\n    const body: Record<string, unknown> = { model: request.model, messages: request.messages, temperature: request.temperature, max_tokens: request.maxTokens, stream: false };\n    const response = await fetch(`${this.getBaseUrl()}/chat/completions`, { method: 'POST', headers: { 'Authorization': `Bearer ${this.getApiKey()}`, 'Content-Type': 'application/json' }, body: JSON.stringify(body) });\n    if (!response.ok) throw new Error(`Together API error: ${response.statusText}`);\n    const data = await response.json() as any;\n    return { id: data.id || this.generateId(), model: data.model || request.model, choices: data.choices?.map((c: any) => ({ index: c.index||0, message: { role: c.message?.role||'assistant', content: c.message?.content||'' }, finishReason: c.finish_reason||'stop' }))||[], usage: data.usage, created: Date.now() };\n  }\n}\n","import type { ChatCompletionRequest, ChatCompletionResponse } from \"../../types\";\nimport { BaseLLMProvider } from \"./base\";\nexport class FireworksProvider extends BaseLLMProvider {\n  private baseUrl = 'https://api.fireworks.ai/inference/v1';\n  protected getDefaultBaseUrl(): string { return this.baseUrl; }\n  async complete(request: ChatCompletionRequest): Promise<ChatCompletionResponse> {\n    this.ensureInitialized();\n    const body: Record<string, unknown> = { model: request.model, messages: request.messages, temperature: request.temperature, max_tokens: request.maxTokens, stream: false };\n    const response = await fetch(`${this.getBaseUrl()}/chat/completions`, { method: 'POST', headers: { 'Authorization': `Bearer ${this.getApiKey()}`, 'Content-Type': 'application/json' }, body: JSON.stringify(body) });\n    if (!response.ok) throw new Error(`Fireworks API error: ${response.statusText}`);\n    const data = await response.json() as any;\n    return { id: data.id || this.generateId(), model: data.model || request.model, choices: data.choices?.map((c: any) => ({ index: c.index||0, message: { role: c.message?.role||'assistant', content: c.message?.content||'' }, finishReason: c.finish_reason||'stop' }))||[], usage: data.usage, created: Date.now() };\n  }\n}\n","import type { ChatCompletionRequest, ChatCompletionResponse } from \"../../types\";\nimport { BaseLLMProvider } from \"./base\";\nexport class MistralProvider extends BaseLLMProvider {\n  private baseUrl = 'https://api.mistral.ai/v1';\n  protected getDefaultBaseUrl(): string { return this.baseUrl; }\n  async complete(request: ChatCompletionRequest): Promise<ChatCompletionResponse> {\n    this.ensureInitialized();\n    const body: Record<string, unknown> = { model: request.model, messages: request.messages, temperature: request.temperature, max_tokens: request.maxTokens, stream: false };\n    const response = await fetch(`${this.getBaseUrl()}/chat/completions`, { method: 'POST', headers: { 'Authorization': `Bearer ${this.getApiKey()}`, 'Content-Type': 'application/json' }, body: JSON.stringify(body) });\n    if (!response.ok) throw new Error(`Mistral API error: ${response.statusText}`);\n    const data = await response.json() as any;\n    return { id: data.id || this.generateId(), model: data.model || request.model, choices: data.choices?.map((c: any) => ({ index: c.index||0, message: { role: c.message?.role||'assistant', content: c.message?.content||'' }, finishReason: c.finish_reason||'stop' }))||[], usage: data.usage, created: Date.now() };\n  }\n}\n","import type { ChatCompletionRequest, ChatCompletionResponse } from \"../../types\";\nimport { BaseLLMProvider } from \"./base\";\nexport class CohereProvider extends BaseLLMProvider {\n  private baseUrl = 'https://api.cohere.ai/v1';\n  protected getDefaultBaseUrl(): string { return this.baseUrl; }\n  async complete(request: ChatCompletionRequest): Promise<ChatCompletionResponse> {\n    this.ensureInitialized();\n    const body: Record<string, unknown> = { model: request.model, messages: request.messages, temperature: request.temperature, max_tokens: request.maxTokens, stream: false };\n    const response = await fetch(`${this.getBaseUrl()}/chat`, { method: 'POST', headers: { 'Authorization': `Bearer ${this.getApiKey()}`, 'Content-Type': 'application/json' }, body: JSON.stringify(body) });\n    if (!response.ok) throw new Error(`Cohere API error: ${response.statusText}`);\n    const data = await response.json() as any;\n    return { id: data.id || this.generateId(), model: data.model || request.model, choices: [{ index: 0, message: { role: 'assistant', content: data.text||'' }, finishReason: 'stop' }], usage: data.usage, created: Date.now() };\n  }\n}\n","import type { ChatCompletionRequest, ChatCompletionResponse } from \"../../types\";\nimport { BaseLLMProvider } from \"./base\";\nexport class PerplexityProvider extends BaseLLMProvider {\n  private baseUrl = 'https://api.perplexity.ai';\n  protected getDefaultBaseUrl(): string { return this.baseUrl; }\n  async complete(request: ChatCompletionRequest): Promise<ChatCompletionResponse> {\n    this.ensureInitialized();\n    const body: Record<string, unknown> = { model: request.model, messages: request.messages, temperature: request.temperature, max_tokens: request.maxTokens, stream: false };\n    const response = await fetch(`${this.getBaseUrl()}/chat/completions`, { method: 'POST', headers: { 'Authorization': `Bearer ${this.getApiKey()}`, 'Content-Type': 'application/json' }, body: JSON.stringify(body) });\n    if (!response.ok) throw new Error(`Perplexity API error: ${response.statusText}`);\n    const data = await response.json() as any;\n    return { id: data.id || this.generateId(), model: data.model || request.model, choices: data.choices?.map((c: any) => ({ index: c.index||0, message: { role: c.message?.role||'assistant', content: c.message?.content||'' }, finishReason: c.finish_reason||'stop' }))||[], usage: data.usage, created: Date.now() };\n  }\n}\n","/**\n * Smart Router\n * \n * Intelligent routing based on request characteristics.\n */\n\nimport type { ChatCompletionRequest, LLMProvider, RoutingDecision, RoutingTier, ResolvedModel, ModelInfo } from \"../types.js\";\nimport { LLMProviderManager } from \"./manager\";\nimport { getModel } from \"../models.js\";\n\nexport class SmartRouter {\n  private manager: LLMProviderManager;\n  private defaultTier: RoutingTier = 'medium';\n\n  private readonly TIER_CONFIG: Record<RoutingTier, { primary: string; fallback: string[] }> = {\n    simple: { primary: 'gemini-2.5-flash', fallback: ['gpt-4o-mini', 'claude-haiku-4'] },\n    medium: { primary: 'grok-3-fast', fallback: ['gpt-4o', 'claude-sonnet-4'] },\n    complex: { primary: 'gemini-2.5-pro', fallback: ['claude-opus-4', 'gpt-4o'] },\n    reasoning: { primary: 'o3-mini', fallback: ['grok-3-fast', 'deepseek-v3'] },\n    vision: { primary: 'gpt-4o', fallback: ['claude-sonnet-4', 'gemini-2.5-pro'] },\n  };\n\n  constructor(manager: LLMProviderManager) {\n    this.manager = manager;\n  }\n\n  /**\n   * Route to best model for auto mode\n   */\n  async routeAuto(): Promise<ResolvedModel> {\n    // Check for free providers first (OpenCode)\n    if (this.manager.isProviderAvailable('opencode')) {\n      return { modelId: 'big-pickle', provider: 'opencode', capabilities: {} };\n    }\n\n    // Try direct providers before OpenRouter\n    const directProviders: LLMProvider[] = ['openai', 'anthropic', 'google', 'xai', 'deepseek'];\n    for (const p of directProviders) {\n      if (this.manager.isProviderAvailable(p)) {\n        const model = this.TIER_CONFIG[this.defaultTier].primary;\n        return { modelId: model, provider: p, capabilities: {} };\n      }\n    }\n\n    // Fall back to OpenRouter\n    if (this.manager.isProviderAvailable('openrouter')) {\n      return { modelId: this.TIER_CONFIG[this.defaultTier].primary, provider: 'openrouter', capabilities: {} };\n    }\n\n    // Last resort - any available\n    const available = this.manager.getEnabledProviders();\n    if (available.length > 0) {\n      return { modelId: 'gpt-4o', provider: available[0], capabilities: {} };\n    }\n\n    throw new Error('No LLM providers configured');\n  }\n\n  /**\n   * Decide routing based on request\n   */\n  async decide(request: ChatCompletionRequest): Promise<RoutingDecision> {\n    const tier = this.classifyRequest(request);\n    const config = this.TIER_CONFIG[tier];\n\n    const resolved = await this.routeAuto();\n    \n    return {\n      model: resolved.modelId,\n      provider: resolved.provider,\n      tier,\n      costEstimate: 0,\n      savings: 0.5,\n      reasoning: `Routed to ${resolved.provider} for ${tier} request`,\n      fallbackChain: this.getFallback(resolved.provider, resolved.modelId),\n    };\n  }\n\n  /**\n   * Classify request into tier\n   */\n  private classifyRequest(request: ChatCompletionRequest): RoutingTier {\n    const content = request.messages.map(m => m.content).join(' ').toLowerCase();\n    \n    // Check for reasoning keywords\n    if (/prove|explain.*step|calculate|derive|logic|proof|theorem|math/i.test(content)) {\n      return 'reasoning';\n    }\n    \n    // Check for vision (has images in messages)\n    if (request.messages.some(m => typeof m.content === 'object' && (m.content as any).some((p: any) => p.type === 'image_url'))) {\n      return 'vision';\n    }\n\n    // Check complexity by length\n    const totalLength = content.length;\n    if (totalLength < 200) return 'simple';\n    if (totalLength < 2000) return 'medium';\n    return 'complex';\n  }\n\n  /**\n   * Get fallback chain for a provider\n   */\n  getFallback(provider: LLMProvider, model: string): LLMProvider[] {\n    const fallbacks: LLMProvider[] = [];\n    const all = this.manager.getEnabledProviders();\n    \n    for (const p of all) {\n      if (p !== provider) fallbacks.push(p);\n    }\n    \n    return fallbacks;\n  }\n}\n","/**\n * Stats Collector\n */\n\nimport type { LLMProvider, ProviderStats, AggregatedStats } from \"../types.js\";\n\nexport class StatsCollector {\n  private stats: Map<LLMProvider, ProviderStats> = new Map();\n\n  recordRequest(provider: LLMProvider, promptTokens: number, completionTokens: number, latencyMs: number): void {\n    let stat = this.stats.get(provider);\n    if (!stat) {\n      stat = { provider, requests: 0, promptTokens: 0, completionTokens: 0, totalCost: 0, errors: 0, avgLatency: 0, lastActivity: 0 };\n      this.stats.set(provider, stat);\n    }\n    stat.requests++;\n    stat.promptTokens += promptTokens;\n    stat.completionTokens += completionTokens;\n    stat.avgLatency = (stat.avgLatency * (stat.requests - 1) + latencyMs) / stat.requests;\n    stat.lastActivity = Date.now();\n  }\n\n  recordError(provider: LLMProvider): void {\n    const stat = this.stats.get(provider);\n    if (stat) stat.errors++;\n  }\n\n  getAggregated(): AggregatedStats {\n    let totalRequests = 0, totalPrompt = 0, totalCompletion = 0, totalCost = 0, totalErrors = 0;\n    for (const stat of this.stats.values()) {\n      totalRequests += stat.requests;\n      totalPrompt += stat.promptTokens;\n      totalCompletion += stat.completionTokens;\n      totalErrors += stat.errors;\n    }\n    return { totalRequests, totalPromptTokens: totalPrompt, totalCompletionTokens: totalCompletion, totalCost, totalErrors, byProvider: Array.from(this.stats.values()), savingsVsOpenRouter: 0 };\n  }\n}\n","/**\n * Models Configuration\n * \n * Supported models and aliases for OmniLLM.\n */\n\nimport type { LLMProvider, ModelInfo, ModelAlias } from \"../types.js\";\n\n/**\n * All supported models with their metadata\n */\nexport const MODELS: Record<string, ModelInfo> = {\n  // OpenAI\n  'gpt-4o': {\n    id: 'gpt-4o',\n    name: 'GPT-4o',\n    provider: 'openai',\n    contextWindow: 128000,\n    maxOutputTokens: 16384,\n    capabilities: { streaming: true, functionCalling: true, vision: true },\n    pricing: { input: 5.0, output: 15.0 },\n  },\n  'gpt-4o-mini': {\n    id: 'gpt-4o-mini',\n    name: 'GPT-4o Mini',\n    provider: 'openai',\n    contextWindow: 128000,\n    maxOutputTokens: 16384,\n    capabilities: { streaming: true, functionCalling: true, vision: true },\n    pricing: { input: 0.15, output: 0.6 },\n  },\n  'gpt-5': {\n    id: 'gpt-5',\n    name: 'GPT-5',\n    provider: 'openai',\n    contextWindow: 200000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true, vision: true, reasoning: true },\n    pricing: { input: 10.0, output: 30.0 },\n  },\n  'o3': {\n    id: 'o3',\n    name: 'OpenAI o3',\n    provider: 'openai',\n    contextWindow: 200000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: false, functionCalling: true, reasoning: true },\n    pricing: { input: 10.0, output: 40.0 },\n  },\n  'o3-mini': {\n    id: 'o3-mini',\n    name: 'OpenAI o3-mini',\n    provider: 'openai',\n    contextWindow: 128000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: false, functionCalling: true, reasoning: true },\n    pricing: { input: 1.1, output: 4.4 },\n  },\n\n  // Anthropic\n  'claude-sonnet-4': {\n    id: 'claude-sonnet-4',\n    name: 'Claude Sonnet 4',\n    provider: 'anthropic',\n    contextWindow: 200000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true, vision: true },\n    pricing: { input: 3.0, output: 15.0 },\n  },\n  'claude-opus-4': {\n    id: 'claude-opus-4',\n    name: 'Claude Opus 4',\n    provider: 'anthropic',\n    contextWindow: 200000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true, vision: true },\n    pricing: { input: 15.0, output: 75.0 },\n  },\n  'claude-haiku-4': {\n    id: 'claude-haiku-4',\n    name: 'Claude Haiku 4',\n    provider: 'anthropic',\n    contextWindow: 200000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true, vision: true },\n    pricing: { input: 0.8, output: 4.0 },\n  },\n\n  // Google\n  'gemini-2.5-pro': {\n    id: 'gemini-2.5-pro',\n    name: 'Gemini 2.5 Pro',\n    provider: 'google',\n    contextWindow: 1000000,\n    maxOutputTokens: 64000,\n    capabilities: { streaming: true, functionCalling: true, vision: true, reasoning: true },\n    pricing: { input: 1.25, output: 5.0 },\n  },\n  'gemini-2.5-flash': {\n    id: 'gemini-2.5-flash',\n    name: 'Gemini 2.5 Flash',\n    provider: 'google',\n    contextWindow: 1000000,\n    maxOutputTokens: 64000,\n    capabilities: { streaming: true, functionCalling: true, vision: true },\n    pricing: { input: 0.075, output: 0.3 },\n  },\n\n  // xAI\n  'grok-4': {\n    id: 'grok-4',\n    name: 'Grok 4',\n    provider: 'xai',\n    contextWindow: 200000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true, reasoning: true },\n    pricing: { input: 5.0, output: 15.0 },\n  },\n  'grok-3-fast': {\n    id: 'grok-3-fast',\n    name: 'Grok 3 Fast',\n    provider: 'xai',\n    contextWindow: 131072,\n    maxOutputTokens: 32768,\n    capabilities: { streaming: true, functionCalling: true },\n    pricing: { input: 3.0, output: 15.0 },\n  },\n  'grok-3': {\n    id: 'grok-3',\n    name: 'Grok 3',\n    provider: 'xai',\n    contextWindow: 131072,\n    maxOutputTokens: 32768,\n    capabilities: { streaming: true, functionCalling: true },\n    pricing: { input: 5.0, output: 15.0 },\n  },\n\n  // DeepSeek\n  'deepseek-v3': {\n    id: 'deepseek-v3',\n    name: 'DeepSeek V3',\n    provider: 'deepseek',\n    contextWindow: 64000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true },\n    pricing: { input: 0.27, output: 1.1 },\n  },\n  'deepseek-chat': {\n    id: 'deepseek-chat',\n    name: 'DeepSeek Chat',\n    provider: 'deepseek',\n    contextWindow: 64000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true },\n    pricing: { input: 0.14, output: 0.28 },\n  },\n\n  // Moonshot (Kimi)\n  'kimi-k2.5': {\n    id: 'kimi-k2.5',\n    name: 'Kimi K2.5',\n    provider: 'moonshot',\n    contextWindow: 128000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true, vision: true },\n    pricing: { input: 0.6, output: 2.0 },\n  },\n  'kimi-k2.5-mini': {\n    id: 'kimi-k2.5-mini',\n    name: 'Kimi K2.5 Mini',\n    provider: 'moonshot',\n    contextWindow: 128000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true, vision: true },\n    pricing: { input: 0.2, output: 0.6 },\n  },\n\n  // OpenCode\n  'big-pickle': {\n    id: 'big-pickle',\n    name: 'Big Pickle',\n    provider: 'opencode',\n    contextWindow: 200000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true, reasoning: true },\n    pricing: { input: 0.0, output: 0.0 }, // Free\n  },\n  'gpt-5-nano': {\n    id: 'gpt-5-nano',\n    name: 'GPT-5 Nano',\n    provider: 'opencode',\n    contextWindow: 128000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true },\n    pricing: { input: 0.0, output: 0.0 }, // Free\n  },\n  'kimi-k2.5-free': {\n    id: 'kimi-k2.5-free',\n    name: 'Kimi K2.5 Free',\n    provider: 'opencode',\n    contextWindow: 128000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true },\n    pricing: { input: 0.0, output: 0.0 }, // Free\n  },\n  'minimax-m2.5-free': {\n    id: 'minimax-m2.5-free',\n    name: 'MiniMax M2.5 Free',\n    provider: 'opencode',\n    contextWindow: 128000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true },\n    pricing: { input: 0.0, output: 0.0 }, // Free\n  },\n\n  // OpenRouter (meta-provider, routes to others)\n  'openrouter/auto': {\n    id: 'openrouter/auto',\n    name: 'OpenRouter Auto',\n    provider: 'openrouter',\n    contextWindow: 128000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true },\n  },\n};\n\n/**\n * Model aliases for easy access\n */\nexport const MODEL_ALIASES: ModelAlias[] = [\n  { alias: 'auto', model: 'omni-llm/auto' },\n  { alias: 'sonnet', model: 'claude-sonnet-4' },\n  { alias: 'opus', model: 'claude-opus-4' },\n  { alias: 'haiku', model: 'claude-haiku-4' },\n  { alias: 'gpt', model: 'gpt-4o' },\n  { alias: 'gpt-mini', model: 'gpt-4o-mini' },\n  { alias: 'flash', model: 'gemini-2.5-flash' },\n  { alias: 'pro', model: 'gemini-2.5-pro' },\n  { alias: 'deepseek', model: 'deepseek-v3' },\n  { alias: 'grok', model: 'grok-3' },\n  { alias: 'grok-reasoning', model: 'grok-3-fast' },\n  { alias: 'kimi', model: 'kimi-k2.5' },\n  { alias: 'big-pickle', model: 'big-pickle', provider: 'opencode' },\n  { alias: 'gpt-nano', model: 'gpt-5-nano', provider: 'opencode' },\n  { alias: 'reasoner', model: 'o3-mini' },\n  { alias: 'reasoning', model: 'o3' },\n];\n\n/**\n * Models available in OpenClaw\n */\nexport const OPENCLAW_MODELS = [\n  'omni-llm/auto',\n  'omni-llm/sonnet',\n  'omni-llm/opus',\n  'omni-llm/haiku',\n  'omni-llm/gpt',\n  'omni-llm/gpt-mini',\n  'omni-llm/flash',\n  'omni-llm/pro',\n  'omni-llm/deepseek',\n  'omni-llm/grok',\n  'omni-llm/grok-reasoning',\n  'omni-llm/kimi',\n  'omni-llm/big-pickle',\n  'omni-llm/gpt-nano',\n  'omni-llm/reasoner',\n  'omni-llm/reasoning',\n];\n\n/**\n * Get model info by ID\n */\nexport function getModel(modelId: string): ModelInfo | undefined {\n  return MODELS[modelId];\n}\n\n/**\n * Resolve model alias\n */\nexport function resolveModelAlias(alias: string): string {\n  const found = MODEL_ALIASES.find(a => a.alias === alias);\n  return found?.model || alias;\n}\n\n/**\n * Get models by provider\n */\nexport function getModelsByProvider(provider: LLMProvider): ModelInfo[] {\n  return Object.values(MODELS).filter(m => m.provider === provider);\n}\n\n/**\n * Get free models (no API cost)\n */\nexport function getFreeModels(): ModelInfo[] {\n  return Object.values(MODELS).filter(m => m.pricing?.input === 0);\n}\n","/**\n * LLM Provider Manager\n * \n * Centralized management for all LLM providers.\n * Handles initialization, routing, and request distribution.\n */\n\nimport type { OpenClawPluginApi } from \"openclaw\";\nimport type {\n  LLMProvider,\n  ProvidersConfig,\n  ProviderConfig,\n  ApiKeysConfig,\n  ChatCompletionRequest,\n  ChatCompletionResponse,\n  RoutingDecision,\n  RoutingTier,\n  ResolvedModel,\n  ModelInfo,\n  LLMEvent,\n  EventHandler,\n  AggregatedStats,\n  ProviderStats,\n} from \"../types.js\";\nimport { BaseLLMProvider } from \"../providers/base\";\nimport { OpenRouterProvider } from \"../providers/openrouter\";\nimport { OpenAIProvider } from \"../providers/openai\";\nimport { AnthropicProvider } from \"../providers/anthropic\";\nimport { GoogleProvider } from \"../providers/google\";\nimport { XAIProvider } from \"../providers/xai\";\nimport { DeepSeekProvider } from \"../providers/deepseek\";\nimport { MoonshotProvider } from \"../providers/moonshot\";\nimport { OpenCodeProvider } from \"../providers/opencode\";\nimport { AzureProvider } from \"../providers/azure\";\nimport { AnyscaleProvider } from \"../providers/anyscale\";\nimport { TogetherProvider } from \"../providers/together\";\nimport { FireworksProvider } from \"../providers/fireworks\";\nimport { MistralProvider } from \"../providers/mistral\";\nimport { CohereProvider } from \"../providers/cohere\";\nimport { PerplexityProvider } from \"../providers/perplexity\";\nimport { SmartRouter } from \"../router/smart-router\";\nimport { StatsCollector } from \"../stats.js\";\nimport { resolveModelAlias, getModel } from \"../models.js\";\n\nconst PROVIDER_CLASSES: Record<LLMProvider, new () => BaseLLMProvider> = {\n  openrouter: OpenRouterProvider,\n  openai: OpenAIProvider,\n  anthropic: AnthropicProvider,\n  google: GoogleProvider,\n  xai: XAIProvider,\n  deepseek: DeepSeekProvider,\n  moonshot: MoonshotProvider,\n  opencode: OpenCodeProvider,\n  azure: AzureProvider,\n  anyscale: AnyscaleProvider,\n  together: TogetherProvider,\n  fireworks: FireworksProvider,\n  mistral: MistralProvider,\n  cohere: CohereProvider,\n  perplexity: PerplexityProvider,\n};\n\nexport class LLMProviderManager {\n  private api: OpenClawPluginApi;\n  private config: ProvidersConfig;\n  private apiKeys: ApiKeysConfig;\n  private providers: Map<LLMProvider, BaseLLMProvider> = new Map();\n  private eventHandlers: EventHandler[] = [];\n  private router: SmartRouter;\n  private stats: StatsCollector;\n  private started = false;\n\n  constructor(api: OpenClawPluginApi, config: ProvidersConfig, apiKeys: ApiKeysConfig) {\n    this.api = api;\n    this.config = config;\n    this.apiKeys = apiKeys;\n    this.router = new SmartRouter(this);\n    this.stats = new StatsCollector();\n  }\n\n  /**\n   * Register all enabled providers\n   */\n  async registerAll(): Promise<void> {\n    const enabledProviders = Object.entries(this.config)\n      .filter(([_, cfg]) => cfg.enabled)\n      .map(([provider]) => provider as LLMProvider);\n\n    for (const provider of enabledProviders) {\n      await this.registerProvider(provider);\n    }\n  }\n\n  /**\n   * Register a single provider\n   */\n  async registerProvider(providerId: LLMProvider): Promise<void> {\n    const providerConfig = this.config[providerId];\n    if (!providerConfig?.enabled) {\n      return;\n    }\n\n    const ProviderClass = PROVIDER_CLASSES[providerId];\n    if (!ProviderClass) {\n      throw new Error(`No provider implementation: ${providerId}`);\n    }\n\n    // Merge config with API keys\n    const mergedConfig = {\n      ...providerConfig,\n      ...(this.apiKeys[providerId] || {}),\n    };\n\n    const provider = new ProviderClass();\n    provider.provider = providerId;\n    provider.name = providerId.toUpperCase();\n\n    try {\n      await provider.initialize(this.api, mergedConfig);\n      this.providers.set(providerId, provider);\n      this.api.logger.info(`OmniLLM: Registered ${providerId}`);\n    } catch (err) {\n      this.api.logger.error(`OmniLLM: Failed to init ${providerId}: ${err instanceof Error ? err.message : String(err)}`);\n      throw err;\n    }\n  }\n\n  /**\n   * Start all providers\n   */\n  async startAll(): Promise<void> {\n    if (this.started) return;\n    this.started = true;\n\n    for (const [providerId, provider] of this.providers) {\n      try {\n        await provider.start();\n        this.api.logger.info(`OmniLLM: Started ${providerId}`);\n      } catch (err) {\n        this.api.logger.error(`OmniLLM: Failed to start ${providerId}: ${err}`);\n      }\n    }\n  }\n\n  /**\n   * Stop all providers\n   */\n  async stopAll(): Promise<void> {\n    for (const [providerId, provider] of this.providers) {\n      try {\n        await provider.stop();\n      } catch (err) {\n        this.api.logger.error(`OmniLLM: Error stopping ${providerId}: ${err}`);\n      }\n    }\n    this.started = false;\n  }\n\n  /**\n   * Get provider instance\n   */\n  getProvider(providerId: LLMProvider): BaseLLMProvider | undefined {\n    return this.providers.get(providerId);\n  }\n\n  /**\n   * Get all registered providers\n   */\n  getAllProviders(): Map<LLMProvider, BaseLLMProvider> {\n    return this.providers;\n  }\n\n  /**\n   * Check if provider is available\n   */\n  isProviderAvailable(providerId: LLMProvider): boolean {\n    return this.providers.has(providerId);\n  }\n\n  /**\n   * Get enabled providers\n   */\n  getEnabledProviders(): LLMProvider[] {\n    return Array.from(this.providers.keys());\n  }\n\n  /**\n   * Complete a chat completion request\n   */\n  async complete(request: ChatCompletionRequest): Promise<ChatCompletionResponse> {\n    const startTime = Date.now();\n    \n    // Resolve model to provider\n    const resolved = await this.resolveModel(request.model);\n    const provider = this.providers.get(resolved.provider);\n    \n    if (!provider) {\n      throw new Error(`Provider not available: ${resolved.provider}`);\n    }\n\n    try {\n      // Update request with resolved model\n      const providerRequest = { ...request, model: resolved.modelId };\n      \n      // Execute request\n      const response = await provider.complete(providerRequest);\n      \n      // Record stats\n      this.stats.recordRequest(\n        resolved.provider,\n        response.usage?.promptTokens || 0,\n        response.usage?.completionTokens || 0,\n        Date.now() - startTime\n      );\n\n      // Emit event\n      this.emitEvent({\n        type: 'response',\n        provider: resolved.provider,\n        model: resolved.modelId,\n        timestamp: Date.now(),\n        duration: Date.now() - startTime,\n        tokens: response.usage,\n      });\n\n      return response;\n    } catch (err) {\n      // Try fallback\n      const fallback = this.router.getFallback(resolved.provider, resolved.modelId);\n      if (fallback.length > 0) {\n        this.emitEvent({\n          type: 'fallback',\n          provider: resolved.provider,\n          model: resolved.modelId,\n          timestamp: Date.now(),\n          error: err instanceof Error ? err.message : String(err),\n        });\n        \n        // Retry with fallback\n        for (const fbProvider of fallback) {\n          const fbProviderInstance = this.providers.get(fbProvider);\n          if (fbProviderInstance) {\n            try {\n              const response = await fbProviderInstance.complete({\n                ...request,\n                model: resolved.modelId, // Use same model ID if available\n              });\n              this.stats.recordRequest(fbProvider, response.usage?.promptTokens || 0, response.usage?.completionTokens || 0, Date.now() - startTime);\n              return response;\n            } catch { continue; }\n          }\n        }\n      }\n      \n      throw err;\n    }\n  }\n\n  /**\n   * Resolve model to provider\n   */\n  async resolveModel(model: string): Promise<ResolvedModel> {\n    // Handle \"omni-llm/auto\" routing\n    if (model === 'omni-llm/auto' || model === 'auto') {\n      return this.router.routeAuto();\n    }\n\n    // Handle aliases\n    const resolvedModelId = resolveModelAlias(model);\n\n    // Check if it's a known model\n    const modelInfo = getModel(resolvedModelId);\n    if (modelInfo) {\n      return {\n        modelId: resolvedModelId,\n        provider: modelInfo.provider,\n        capabilities: modelInfo.capabilities,\n      };\n    }\n\n    // Try to infer provider from model ID prefix\n    for (const [providerId, provider] of this.providers) {\n      if (resolvedModelId.startsWith(providerId) || provider.supportsModel(resolvedModelId)) {\n        return {\n          modelId: resolvedModelId,\n          provider: providerId,\n          capabilities: {},\n        };\n      }\n    }\n\n    // Default to first available provider\n    const firstProvider = this.getEnabledProviders()[0];\n    if (!firstProvider) {\n      throw new Error('No LLM providers configured');\n    }\n\n    return {\n      modelId: resolvedModelId,\n      provider: firstProvider,\n      capabilities: {},\n    };\n  }\n\n  /**\n   * Route to best model based on request characteristics\n   */\n  async routeRequest(request: ChatCompletionRequest): Promise<RoutingDecision> {\n    return this.router.decide(request);\n  }\n\n  /**\n   * Register event handler\n   */\n  onEvent(handler: EventHandler): void {\n    this.eventHandlers.push(handler);\n  }\n\n  /**\n   * Emit event to handlers\n   */\n  private emitEvent(event: LLMEvent): void {\n    for (const handler of this.eventHandlers) {\n      try {\n        handler(event);\n      } catch (err) {\n        this.api.logger.error(`OmniLLM: Event handler error: ${err}`);\n      }\n    }\n  }\n\n  /**\n   * Get stats\n   */\n  getStats(): AggregatedStats {\n    return this.stats.getAggregated();\n  }\n}\n","import type { OpenClawPluginCommandDefinition, PluginCommandContext } from \"openclaw\";\n\nexport async function createStatsCommand(): Promise<OpenClawPluginCommandDefinition> {\n  return {\n    name: \"stats\",\n    description: \"Show OmniLLM usage statistics\",\n    acceptsArgs: true,\n    requireAuth: false,\n    handler: async (ctx: PluginCommandContext) => {\n      return { text: \"Stats command - implement with manager.getStats()\" };\n    },\n  };\n}\n","import type { OpenClawPluginCommandDefinition, PluginCommandContext } from \"openclaw\";\nimport type { LLMProviderManager } from \"../core/manager\";\n\nexport async function createProvidersCommand(manager: LLMProviderManager): Promise<OpenClawPluginCommandDefinition> {\n  return {\n    name: \"providers\",\n    description: \"Show configured LLM providers\",\n    acceptsArgs: false,\n    requireAuth: false,\n    handler: async () => {\n      const providers = manager.getEnabledProviders();\n      const lines = [\"**OmniLLM Providers:**\", \"\"];\n      for (const p of providers) {\n        lines.push(` ${p}`);\n      }\n      return { text: lines.join(\"\\n\") };\n    },\n  };\n}\n","/**\n * Configuration Loader\n * \n * Loads provider configuration from plugin config and environment variables.\n */\n\nimport type { ProvidersConfig, ProviderConfig, LLMProvider } from \"../types.js\";\n\nexport interface ApiKeysConfig {\n  openrouter?: { apiKey?: string };\n  openai?: { apiKey?: string };\n  anthropic?: { apiKey?: string };\n  google?: { apiKey?: string };\n  xai?: { apiKey?: string };\n  deepseek?: { apiKey?: string };\n  moonshot?: { apiKey?: string };\n  opencode?: { apiKey?: string };\n  azure?: { apiKey?: string; endpoint?: string };\n  anyscale?: { apiKey?: string };\n  together?: { apiKey?: string };\n  fireworks?: { apiKey?: string };\n  mistral?: { apiKey?: string };\n  cohere?: { apiKey?: string };\n  perplexity?: { apiKey?: string };\n  [key: string]: unknown;\n}\n\n/**\n * Load provider configuration from plugin config\n */\nexport function loadProviderConfig(pluginConfig?: Record<string, unknown>): { providers: ProvidersConfig; routing?: Record<string, unknown> } {\n  const defaultConfig: ProvidersConfig = {\n    openrouter: { enabled: false },\n    openai: { enabled: false },\n    anthropic: { enabled: false },\n    google: { enabled: false },\n    xai: { enabled: false },\n    deepseek: { enabled: false },\n    moonshot: { enabled: false },\n    opencode: { enabled: false },\n    azure: { enabled: false },\n    anyscale: { enabled: false },\n    together: { enabled: false },\n    fireworks: { enabled: false },\n    mistral: { enabled: false },\n    cohere: { enabled: false },\n    perplexity: { enabled: false },\n  };\n\n  let config: ProvidersConfig = { ...defaultConfig };\n\n  // Override with plugin config\n  if (pluginConfig?.providers) {\n    const providers = pluginConfig.providers as Record<string, ProviderConfig>;\n    for (const [provider, cfg] of Object.entries(providers)) {\n      if (isValidProvider(provider)) {\n        config[provider] = { ...defaultConfig[provider], ...cfg };\n      }\n    }\n  }\n\n  // Override with environment variables\n  config = applyEnvOverrides(config);\n\n  return { providers: config, routing: pluginConfig?.routing as Record<string, unknown> | undefined };\n}\n\n/**\n * Apply environment variable overrides\n */\nfunction applyEnvOverrides(config: ProvidersConfig): ProvidersConfig {\n  // OpenRouter\n  if (process.env.OPENROUTER_API_KEY) {\n    config.openrouter = { ...config.openrouter, enabled: true, apiKey: process.env.OPENROUTER_API_KEY };\n  }\n\n  // OpenAI\n  if (process.env.OPENAI_API_KEY) {\n    config.openai = { ...config.openai, enabled: true, apiKey: process.env.OPENAI_API_KEY };\n  }\n\n  // Anthropic\n  if (process.env.ANTHROPIC_API_KEY) {\n    config.anthropic = { ...config.anthropic, enabled: true, apiKey: process.env.ANTHROPIC_API_KEY };\n  }\n\n  // Google\n  if (process.env.GOOGLE_API_KEY) {\n    config.google = { ...config.google, enabled: true, apiKey: process.env.GOOGLE_API_KEY };\n  }\n\n  // xAI\n  if (process.env.XAI_API_KEY) {\n    config.xai = { ...config.xai, enabled: true, apiKey: process.env.XAI_API_KEY };\n  }\n\n  // DeepSeek\n  if (process.env.DEEPSEEK_API_KEY) {\n    config.deepseek = { ...config.deepseek, enabled: true, apiKey: process.env.DEEPSEEK_API_KEY };\n  }\n\n  // Moonshot\n  if (process.env.MOONSHOT_API_KEY) {\n    config.moonshot = { ...config.moonshot, enabled: true, apiKey: process.env.MOONSHOT_API_KEY };\n  }\n\n  // OpenCode\n  if (process.env.OPENCODE_API_KEY) {\n    config.opencode = { ...config.opencode, enabled: true, apiKey: process.env.OPENCODE_API_KEY };\n  }\n\n  // Azure\n  if (process.env.AZURE_OPENAI_API_KEY && process.env.AZURE_OPENAI_ENDPOINT) {\n    config.azure = { \n      ...config.azure, \n      enabled: true, \n      apiKey: process.env.AZURE_OPENAI_API_KEY,\n      baseUrl: process.env.AZURE_OPENAI_ENDPOINT \n    };\n  }\n\n  // Anyscale\n  if (process.env.ANYSCALE_API_KEY) {\n    config.anyscale = { ...config.anyscale, enabled: true, apiKey: process.env.ANYSCALE_API_KEY };\n  }\n\n  // Together\n  if (process.env.TOGETHER_API_KEY) {\n    config.together = { ...config.together, enabled: true, apiKey: process.env.TOGETHER_API_KEY };\n  }\n\n  // Fireworks\n  if (process.env.FIREWORKS_API_KEY) {\n    config.fireworks = { ...config.fireworks, enabled: true, apiKey: process.env.FIREWORKS_API_KEY };\n  }\n\n  // Mistral\n  if (process.env.MISTRAL_API_KEY) {\n    config.mistral = { ...config.mistral, enabled: true, apiKey: process.env.MISTRAL_API_KEY };\n  }\n\n  // Cohere\n  if (process.env.COHERE_API_KEY) {\n    config.cohere = { ...config.cohere, enabled: true, apiKey: process.env.COHERE_API_KEY };\n  }\n\n  // Perplexity\n  if (process.env.PERPLEXITY_API_KEY) {\n    config.perplexity = { ...config.perplexity, enabled: true, apiKey: process.env.PERPLEXITY_API_KEY };\n  }\n\n  return config;\n}\n\n/**\n * Check if provider is valid\n */\nfunction isValidProvider(provider: string): provider is LLMProvider {\n  const validProviders: LLMProvider[] = [\n    'openrouter', 'openai', 'anthropic', 'google', 'xai', \n    'deepseek', 'moonshot', 'opencode', 'azure', 'anyscale',\n    'together', 'fireworks', 'mistral', 'cohere', 'perplexity'\n  ];\n  return validProviders.includes(provider as LLMProvider);\n}\n\n/**\n * Load API keys from environment (for runtime)\n */\nexport function loadApiKeysFromEnv(): ApiKeysConfig {\n  return {\n    openrouter: { apiKey: process.env.OPENROUTER_API_KEY },\n    openai: { apiKey: process.env.OPENAI_API_KEY },\n    anthropic: { apiKey: process.env.ANTHROPIC_API_KEY },\n    google: { apiKey: process.env.GOOGLE_API_KEY },\n    xai: { apiKey: process.env.XAI_API_KEY },\n    deepseek: { apiKey: process.env.DEEPSEEK_API_KEY },\n    moonshot: { apiKey: process.env.MOONSHOT_API_KEY },\n    opencode: { apiKey: process.env.OPENCODE_API_KEY },\n    azure: { apiKey: process.env.AZURE_OPENAI_API_KEY, endpoint: process.env.AZURE_OPENAI_ENDPOINT },\n    anyscale: { apiKey: process.env.ANYSCALE_API_KEY },\n    together: { apiKey: process.env.TOGETHER_API_KEY },\n    fireworks: { apiKey: process.env.FIREWORKS_API_KEY },\n    mistral: { apiKey: process.env.MISTRAL_API_KEY },\n    cohere: { apiKey: process.env.COHERE_API_KEY },\n    perplexity: { apiKey: process.env.PERPLEXITY_API_KEY },\n  };\n}\n\n/**\n * Get environment variable usage instructions\n */\nexport function getEnvInstructions(): string {\n  return `\nEnvironment Variables (LLM Providers):\n  OPENROUTER_API_KEY    - OpenRouter (all models)\n  OPENAI_API_KEY        - OpenAI (GPT-4o, GPT-5, o-series)\n  ANTHROPIC_API_KEY     - Anthropic (Claude)\n  GOOGLE_API_KEY        - Google (Gemini)\n  XAI_API_KEY           - xAI (Grok)\n  DEEPSEEK_API_KEY      - DeepSeek\n  MOONSHOT_API_KEY      - Moonshot (Kimi)\n  OPENCODE_API_KEY      - OpenCode models\n  AZURE_OPENAI_API_KEY  - Azure OpenAI\n  ANYSCALE_API_KEY      - Anyscale\n  TOGETHER_API_KEY      - Together AI\n  FIREWORKS_API_KEY     - Fireworks AI\n  MISTRAL_API_KEY       - Mistral\n  COHERE_API_KEY        - Cohere\n  PERPLEXITY_API_KEY    - Perplexity\n`.trim();\n}\n","/**\n * OmniLLM - Main Plugin Entry\n * \n * OpenClaw plugin for multi-provider LLM routing.\n * Supports OpenRouter, OpenAI, Anthropic, Google, xAI, DeepSeek, Moonshot, OpenCode, and more.\n */\n\nimport type {\n  OpenClawPluginDefinition,\n  OpenClawPluginApi,\n  PluginCommandContext,\n  OpenClawPluginCommandDefinition,\n} from \"openclaw\";\n\nimport { VERSION } from \"./version.js\";\nimport { LLMProviderManager } from \"./core/manager.js\";\nimport { createStatsCommand } from \"./commands/stats.js\";\nimport { createProvidersCommand } from \"./commands/providers.js\";\nimport { loadProviderConfig, loadApiKeysFromEnv, type ApiKeysConfig } from \"./config/index.js\";\nimport { OPENCLAW_MODELS, MODEL_ALIASES } from \"./models.js\";\n\nlet manager: LLMProviderManager | null = null;\n\nconst plugin: OpenClawPluginDefinition = {\n  id: \"omni-llm\",\n  name: \"OmniLLM\",\n  description: \"Multi-provider LLM router - OpenRouter, OpenAI, Anthropic, Google, xAI, DeepSeek, OpenCode and more\",\n  version: VERSION,\n\n  register(api: OpenClawPluginApi) {\n    const isDisabled = process.env.OMNI_LLM_DISABLED === \"true\" || process.env.OMNI_LLM_DISABLED === \"1\";\n    if (isDisabled) {\n      api.logger.info(\"OmniLLM disabled (OMNI_LLM_DISABLED=true)\");\n      return;\n    }\n\n    const { providers: config } = loadProviderConfig(api.pluginConfig || {});\n    const apiKeys = loadApiKeysFromEnv();\n\n    const enabledProviders = Object.entries(config.providers)\n      .filter(([_, cfg]) => cfg.enabled)\n      .map(([provider]) => provider);\n\n    if (enabledProviders.length === 0) {\n      api.logger.warn(\"OmniLLM: No providers enabled! Configure at least one provider.\");\n      return;\n    }\n\n    api.logger.info(`OmniLLM initializing with providers: ${enabledProviders.join(\", \")}`);\n\n    manager = new LLMProviderManager(api, config, apiKeys);\n\n    manager.registerAll()\n      .then(() => {\n        api.logger.info(`OmniLLM ready - ${enabledProviders.length} provider(s) registered`);\n      })\n      .catch((err) => {\n        api.logger.error(`OmniLLM initialization failed: ${err.message}`);\n      });\n\n    Promise.all([\n      createStatsCommand(),\n      createProvidersCommand(manager),\n    ]).then(([statsCmd, providersCmd]) => {\n      api.registerCommand(statsCmd);\n      api.registerCommand(providersCmd);\n    }).catch((err) => {\n      api.logger.warn(`Failed to register commands: ${err.message}`);\n    });\n\n    api.registerService({\n      id: \"omni-llm\",\n      start: async () => {\n        if (manager) await manager.startAll();\n      },\n      stop: async () => {\n        if (manager) {\n          await manager.stopAll();\n          manager = null;\n        }\n      },\n    });\n  },\n};\n\nexport default plugin;\n\nexport { LLMProviderManager } from \"./core/manager.js\";\nexport { BaseLLMProvider } from \"./providers/base.js\";\nexport type {\n  LLMProvider,\n  ProviderConfig,\n  ProvidersConfig,\n  ModelInfo,\n  ResolvedModel,\n  ChatCompletionRequest,\n  ChatCompletionResponse,\n  RoutingDecision,\n  RoutingTier,\n} from \"./types.js\";\n"],"mappings":"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","names":["manager","manager"]}