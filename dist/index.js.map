{"version":3,"sources":["../src/models.ts","../src/provider.ts","../src/version.ts","../src/config/index.ts","../src/stats.ts","../src/index.ts"],"sourcesContent":["/**\n * Models Configuration\n * \n * Supported models and aliases for OmniLLM in OpenClaw format.\n */\n\nimport type { ModelDefinitionConfig, ModelProviderConfig } from \"./types/openclaw.js\";\nimport type { LLMProvider, ModelInfo, ModelAlias } from \"./types.js\";\n\n// Internal model definitions (legacy format for compatibility)\nexport const MODELS: Record<string, ModelInfo> = {\n  // OpenAI\n  \"gpt-4o\": {\n    id: \"gpt-4o\",\n    name: \"GPT-4o\",\n    provider: \"openai\",\n    contextWindow: 128000,\n    maxOutputTokens: 16384,\n    capabilities: { streaming: true, functionCalling: true, vision: true },\n    pricing: { input: 5.0, output: 15.0 },\n  },\n  \"gpt-4o-mini\": {\n    id: \"gpt-4o-mini\",\n    name: \"GPT-4o Mini\",\n    provider: \"openai\",\n    contextWindow: 128000,\n    maxOutputTokens: 16384,\n    capabilities: { streaming: true, functionCalling: true, vision: true },\n    pricing: { input: 0.15, output: 0.6 },\n  },\n  \"gpt-5\": {\n    id: \"gpt-5\",\n    name: \"GPT-5\",\n    provider: \"openai\",\n    contextWindow: 200000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true, vision: true, reasoning: true },\n    pricing: { input: 10.0, output: 30.0 },\n  },\n  \"o3\": {\n    id: \"o3\",\n    name: \"OpenAI o3\",\n    provider: \"openai\",\n    contextWindow: 200000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: false, functionCalling: true, reasoning: true },\n    pricing: { input: 10.0, output: 40.0 },\n  },\n  \"o3-mini\": {\n    id: \"o3-mini\",\n    name: \"OpenAI o3-mini\",\n    provider: \"openai\",\n    contextWindow: 128000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: false, functionCalling: true, reasoning: true },\n    pricing: { input: 1.1, output: 4.4 },\n  },\n\n  // Anthropic\n  \"claude-sonnet-4\": {\n    id: \"claude-sonnet-4\",\n    name: \"Claude Sonnet 4\",\n    provider: \"anthropic\",\n    contextWindow: 200000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true, vision: true },\n    pricing: { input: 3.0, output: 15.0 },\n  },\n  \"claude-opus-4\": {\n    id: \"claude-opus-4\",\n    name: \"Claude Opus 4\",\n    provider: \"anthropic\",\n    contextWindow: 200000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true, vision: true },\n    pricing: { input: 15.0, output: 75.0 },\n  },\n  \"claude-haiku-4\": {\n    id: \"claude-haiku-4\",\n    name: \"Claude Haiku 4\",\n    provider: \"anthropic\",\n    contextWindow: 200000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true, vision: true },\n    pricing: { input: 0.8, output: 4.0 },\n  },\n\n  // Google\n  \"gemini-2.5-pro\": {\n    id: \"gemini-2.5-pro\",\n    name: \"Gemini 2.5 Pro\",\n    provider: \"google\",\n    contextWindow: 1000000,\n    maxOutputTokens: 64000,\n    capabilities: { streaming: true, functionCalling: true, vision: true, reasoning: true },\n    pricing: { input: 1.25, output: 5.0 },\n  },\n  \"gemini-2.5-flash\": {\n    id: \"gemini-2.5-flash\",\n    name: \"Gemini 2.5 Flash\",\n    provider: \"google\",\n    contextWindow: 1000000,\n    maxOutputTokens: 64000,\n    capabilities: { streaming: true, functionCalling: true, vision: true },\n    pricing: { input: 0.075, output: 0.3 },\n  },\n\n  // xAI\n  \"grok-4\": {\n    id: \"grok-4\",\n    name: \"Grok 4\",\n    provider: \"xai\",\n    contextWindow: 200000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true, reasoning: true },\n    pricing: { input: 5.0, output: 15.0 },\n  },\n  \"grok-3-fast\": {\n    id: \"grok-3-fast\",\n    name: \"Grok 3 Fast\",\n    provider: \"xai\",\n    contextWindow: 131072,\n    maxOutputTokens: 32768,\n    capabilities: { streaming: true, functionCalling: true },\n    pricing: { input: 3.0, output: 15.0 },\n  },\n  \"grok-3\": {\n    id: \"grok-3\",\n    name: \"Grok 3\",\n    provider: \"xai\",\n    contextWindow: 131072,\n    maxOutputTokens: 32768,\n    capabilities: { streaming: true, functionCalling: true },\n    pricing: { input: 5.0, output: 15.0 },\n  },\n\n  // DeepSeek\n  \"deepseek-v3\": {\n    id: \"deepseek-v3\",\n    name: \"DeepSeek V3\",\n    provider: \"deepseek\",\n    contextWindow: 64000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true },\n    pricing: { input: 0.27, output: 1.1 },\n  },\n  \"deepseek-chat\": {\n    id: \"deepseek-chat\",\n    name: \"DeepSeek Chat\",\n    provider: \"deepseek\",\n    contextWindow: 64000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true },\n    pricing: { input: 0.14, output: 0.28 },\n  },\n\n  // Moonshot (Kimi)\n  \"kimi-k2.5\": {\n    id: \"kimi-k2.5\",\n    name: \"Kimi K2.5\",\n    provider: \"moonshot\",\n    contextWindow: 128000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true, vision: true },\n    pricing: { input: 0.6, output: 2.0 },\n  },\n  \"kimi-k2.5-mini\": {\n    id: \"kimi-k2.5-mini\",\n    name: \"Kimi K2.5 Mini\",\n    provider: \"moonshot\",\n    contextWindow: 128000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true, vision: true },\n    pricing: { input: 0.2, output: 0.6 },\n  },\n\n  // OpenCode\n  \"big-pickle\": {\n    id: \"big-pickle\",\n    name: \"Big Pickle\",\n    provider: \"opencode\",\n    contextWindow: 200000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true, reasoning: true },\n    pricing: { input: 0.0, output: 0.0 },\n  },\n  \"gpt-5-nano\": {\n    id: \"gpt-5-nano\",\n    name: \"GPT-5 Nano\",\n    provider: \"opencode\",\n    contextWindow: 128000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true },\n    pricing: { input: 0.0, output: 0.0 },\n  },\n  \"kimi-k2.5-free\": {\n    id: \"kimi-k2.5-free\",\n    name: \"Kimi K2.5 Free\",\n    provider: \"opencode\",\n    contextWindow: 128000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true },\n    pricing: { input: 0.0, output: 0.0 },\n  },\n  \"minimax-m2.5-free\": {\n    id: \"minimax-m2.5-free\",\n    name: \"MiniMax M2.5 Free\",\n    provider: \"opencode\",\n    contextWindow: 128000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true },\n    pricing: { input: 0.0, output: 0.0 },\n  },\n\n  // OpenRouter (meta-provider)\n  \"openrouter/auto\": {\n    id: \"openrouter/auto\",\n    name: \"OpenRouter Auto\",\n    provider: \"openrouter\",\n    contextWindow: 128000,\n    maxOutputTokens: 32000,\n    capabilities: { streaming: true, functionCalling: true },\n  },\n  \n  // NVIDIA\n  \"z-ai/glm5\": {\n    id: \"z-ai/glm5\",\n    name: \"GLM-5\",\n    provider: \"nvidia\",\n    contextWindow: 128000,\n    maxOutputTokens: 4096,\n    capabilities: { streaming: true, functionCalling: true },\n    pricing: { input: 0.0, output: 0.0 },\n  },\n  \"nvidia/llama-3.1-nemotron-70b-instruct\": {\n    id: \"nvidia/llama-3.1-nemotron-70b-instruct\",\n    name: \"Nemotron 70B\",\n    provider: \"nvidia\",\n    contextWindow: 128000,\n    maxOutputTokens: 4096,\n    capabilities: { streaming: true, functionCalling: true },\n    pricing: { input: 0.0, output: 0.0 },\n  },\n  \"nvidia/mistral-large\": {\n    id: \"nvidia/mistral-large\",\n    name: \"Mistral Large (NVIDIA)\",\n    provider: \"nvidia\",\n    contextWindow: 128000,\n    maxOutputTokens: 4096,\n    capabilities: { streaming: true, functionCalling: true },\n    pricing: { input: 0.0, output: 0.0 },\n  },\n};\n\n// Model aliases for convenient access\nexport const MODEL_ALIASES: ModelAlias[] = [\n  { alias: \"auto\", model: \"omni-llm/auto\" },\n  { alias: \"sonnet\", model: \"claude-sonnet-4\" },\n  { alias: \"opus\", model: \"claude-opus-4\" },\n  { alias: \"haiku\", model: \"claude-haiku-4\" },\n  { alias: \"gpt\", model: \"gpt-4o\" },\n  { alias: \"gpt-mini\", model: \"gpt-4o-mini\" },\n  { alias: \"flash\", model: \"gemini-2.5-flash\" },\n  { alias: \"pro\", model: \"gemini-2.5-pro\" },\n  { alias: \"deepseek\", model: \"deepseek-v3\" },\n  { alias: \"grok\", model: \"grok-3\" },\n  { alias: \"grok-reasoning\", model: \"grok-3-fast\" },\n  { alias: \"kimi\", model: \"kimi-k2.5\" },\n  { alias: \"big-pickle\", model: \"big-pickle\", provider: \"opencode\" },\n  { alias: \"gpt-nano\", model: \"gpt-5-nano\", provider: \"opencode\" },\n  { alias: \"reasoner\", model: \"o3-mini\" },\n  { alias: \"reasoning\", model: \"o3\" },\n  { alias: \"glm5\", model: \"z-ai/glm5\" },\n  { alias: \"nemotron\", model: \"nvidia/llama-3.1-nemotron-70b-instruct\" },\n];\n\n// Convert internal model to OpenClaw ModelDefinitionConfig format\nfunction toOpenClawModel(m: ModelInfo): ModelDefinitionConfig {\n  return {\n    id: m.id,\n    name: m.name,\n    api: \"openai-completions\",\n    reasoning: m.capabilities?.reasoning ?? false,\n    input: m.capabilities?.vision ? [\"text\", \"image\"] : [\"text\"],\n    cost: {\n      input: m.pricing?.input ?? 0,\n      output: m.pricing?.output ?? 0,\n      cacheRead: 0,\n      cacheWrite: 0,\n    },\n    contextWindow: m.contextWindow,\n    maxTokens: m.maxOutputTokens,\n  };\n}\n\n// Create alias models for friendly names\nconst ALIAS_MODELS: ModelDefinitionConfig[] = MODEL_ALIASES\n  .map((alias) => {\n    const target = MODELS[alias.model.replace(\"omni-llm/\", \"\")];\n    if (!target) return null;\n    return toOpenClawModel({ ...target, id: alias.alias, name: `${alias.alias} â†’ ${target.name}` });\n  })\n  .filter((m): m is ModelDefinitionConfig => m !== null);\n\n// All models in OpenClaw format\nexport const OPENCLAW_MODELS: ModelDefinitionConfig[] = [\n  // Smart routing meta-model\n  {\n    id: \"auto\",\n    name: \"OmniLLM Smart Router\",\n    api: \"openai-completions\",\n    reasoning: false,\n    input: [\"text\"],\n    cost: { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 },\n    contextWindow: 200000,\n    maxTokens: 64000,\n  },\n  // Convert all regular models\n  ...Object.values(MODELS).map(toOpenClawModel),\n  // Add aliases\n  ...ALIAS_MODELS,\n];\n\n// Legacy model list for backward compatibility\nexport const OPENCLAW_MODEL_LIST = [\n  \"omni-llm/auto\",\n  \"omni-llm/sonnet\",\n  \"omni-llm/opus\",\n  \"omni-llm/haiku\",\n  \"omni-llm/gpt\",\n  \"omni-llm/gpt-mini\",\n  \"omni-llm/flash\",\n  \"omni-llm/pro\",\n  \"omni-llm/deepseek\",\n  \"omni-llm/grok\",\n  \"omni-llm/grok-reasoning\",\n  \"omni-llm/kimi\",\n  \"omni-llm/big-pickle\",\n  \"omni-llm/gpt-nano\",\n  \"omni-llm/reasoner\",\n  \"omni-llm/reasoning\",\n];\n\n/**\n * Build a ModelProviderConfig for OmniLLM.\n * \n * @param baseUrl - The proxy's local base URL (e.g., \"http://127.0.0.1:8403\")\n */\nexport function buildProviderModels(baseUrl: string): ModelProviderConfig {\n  return {\n    baseUrl: `${baseUrl}/v1`,\n    api: \"openai-completions\",\n    apiKey: \"local-proxy\",\n    models: OPENCLAW_MODELS,\n  };\n}\n\n/**\n * Get model info by ID\n */\nexport function getModel(modelId: string): ModelInfo | undefined {\n  return MODELS[modelId];\n}\n\n/**\n * Resolve model alias\n */\nexport function resolveModelAlias(alias: string): string {\n  const found = MODEL_ALIASES.find((a) => a.alias === alias);\n  return found?.model || alias;\n}\n\n/**\n * Get models by provider\n */\nexport function getModelsByProvider(provider: LLMProvider): ModelInfo[] {\n  return Object.values(MODELS).filter((m) => m.provider === provider);\n}\n\n/**\n * Get free models (no API cost)\n */\nexport function getFreeModels(): ModelInfo[] {\n  return Object.values(MODELS).filter((m) => m.pricing?.input === 0);\n}\n\n/**\n * Check if model is optimized for agentic workflows\n */\nexport function isAgenticModel(modelId: string): boolean {\n  const model = MODELS[modelId];\n  return model?.capabilities?.functionCalling ?? false;\n}\n\n/**\n * Get all agentic-capable models\n */\nexport function getAgenticModels(): string[] {\n  return Object.values(MODELS)\n    .filter((m) => m.capabilities?.functionCalling)\n    .map((m) => m.id);\n}\n\n/**\n * Get context window size for a model\n */\nexport function getModelContextWindow(modelId: string): number | undefined {\n  return MODELS[modelId]?.contextWindow;\n}\n","/**\n * OmniLLM ProviderPlugin for OpenClaw\n * \n * Registers OmniLLM as an LLM provider in OpenClaw.\n * Uses a local proxy to handle smart routing to provider APIs.\n */\n\nimport type { ProviderPlugin } from \"./types/openclaw.js\";\nimport { buildProviderModels } from \"./models.js\";\n\n// Default proxy port\nconst DEFAULT_PORT = 8403;\n\nexport function getProxyPort(): number {\n  const envPort = process.env.OMNI_LLM_PORT;\n  if (envPort) {\n    const parsed = parseInt(envPort, 10);\n    if (!isNaN(parsed) && parsed > 0 && parsed < 65536) return parsed;\n  }\n  return DEFAULT_PORT;\n}\n\nexport const omniLLMProvider: ProviderPlugin = {\n  id: \"omni-llm\",\n  label: \"OmniLLM\",\n  docsPath: \"https://github.com/omni-llm/omni-provider\",\n  aliases: [\"omni\"],\n  envVars: [\n    \"OPENROUTER_API_KEY\",\n    \"OPENAI_API_KEY\",\n    \"ANTHROPIC_API_KEY\",\n    \"GOOGLE_API_KEY\",\n    \"XAI_API_KEY\",\n    \"DEEPSEEK_API_KEY\",\n    \"MOONSHOT_API_KEY\",\n    \"OPENCODE_API_KEY\",\n  ],\n\n  get models() {\n    const port = getProxyPort();\n    return buildProviderModels(`http://127.0.0.1:${port}`);\n  },\n\n  auth: [],\n};\n","export const VERSION = '1.0.0';\n","/**\n * Configuration Loader\n * \n * Loads provider configuration from plugin config and environment variables.\n */\n\nimport type { ProvidersConfig, ProviderConfig, LLMProvider } from \"../types.js\";\n\n/**\n * Validate provider configuration\n */\nexport function validateConfig(config: ProvidersConfig): { valid: boolean; errors: string[] } {\n  const errors: string[] = [];\n  \n  for (const [provider, cfg] of Object.entries(config)) {\n    if (cfg.enabled && !cfg.apiKey) {\n      errors.push(`Provider ${provider} is enabled but missing API key`);\n    }\n  }\n  \n  return {\n    valid: errors.length === 0,\n    errors,\n  };\n}\n\n/**\n * Merge two provider configs\n */\nexport function mergeConfigs(base: ProvidersConfig, override: ProvidersConfig): ProvidersConfig {\n  return {\n    ...base,\n    ...override,\n  };\n}\n\n/**\n * Load config from env vars (test helper)\n */\nexport function loadConfig(env: Record<string, string | undefined>): ProvidersConfig {\n  const originalEnv = process.env;\n  // @ts-ignore - temporarily replace env\n  process.env = { ...originalEnv, ...env };\n  \n  const defaultConfig: ProvidersConfig = {\n    openrouter: { enabled: false },\n    openai: { enabled: false },\n    anthropic: { enabled: false },\n    google: { enabled: false },\n    xai: { enabled: false },\n    deepseek: { enabled: false },\n    moonshot: { enabled: false },\n    opencode: { enabled: false },\n    azure: { enabled: false },\n    anyscale: { enabled: false },\n    together: { enabled: false },\n    fireworks: { enabled: false },\n    mistral: { enabled: false },\n    cohere: { enabled: false },\n    perplexity: { enabled: false },\n  };\n  \n  const config = applyEnvOverrides(defaultConfig);\n  \n  // Restore original env\n  process.env = originalEnv;\n  \n  return config;\n}\n\nexport interface ApiKeysConfig {\n  openrouter?: { apiKey?: string };\n  openai?: { apiKey?: string };\n  anthropic?: { apiKey?: string };\n  google?: { apiKey?: string };\n  xai?: { apiKey?: string };\n  deepseek?: { apiKey?: string };\n  moonshot?: { apiKey?: string };\n  opencode?: { apiKey?: string };\n  azure?: { apiKey?: string; endpoint?: string };\n  anyscale?: { apiKey?: string };\n  together?: { apiKey?: string };\n  fireworks?: { apiKey?: string };\n  mistral?: { apiKey?: string };\n  cohere?: { apiKey?: string };\n  perplexity?: { apiKey?: string };\n  [key: string]: unknown;\n}\n\n/**\n * Load provider configuration from plugin config\n */\nexport function loadProviderConfig(pluginConfig?: Record<string, unknown>): { providers: ProvidersConfig; routing?: Record<string, unknown> } {\n  const defaultConfig: ProvidersConfig = {\n    openrouter: { enabled: false },\n    openai: { enabled: false },\n    anthropic: { enabled: false },\n    google: { enabled: false },\n    xai: { enabled: false },\n    deepseek: { enabled: false },\n    moonshot: { enabled: false },\n    opencode: { enabled: false },\n    azure: { enabled: false },\n    anyscale: { enabled: false },\n    together: { enabled: false },\n    fireworks: { enabled: false },\n    mistral: { enabled: false },\n    cohere: { enabled: false },\n    perplexity: { enabled: false },\n  };\n\n  let config: ProvidersConfig = { ...defaultConfig };\n\n  // Override with plugin config\n  if (pluginConfig?.providers) {\n    const providers = pluginConfig.providers as Record<string, ProviderConfig>;\n    for (const [provider, cfg] of Object.entries(providers)) {\n      if (isValidProvider(provider)) {\n        config[provider] = { ...defaultConfig[provider], ...cfg };\n      }\n    }\n  }\n\n  // Override with environment variables\n  config = applyEnvOverrides(config);\n\n  return { providers: config, routing: pluginConfig?.routing as Record<string, unknown> | undefined };\n}\n\n/**\n * Apply environment variable overrides\n */\nfunction applyEnvOverrides(config: ProvidersConfig): ProvidersConfig {\n  // OpenRouter\n  if (process.env.OPENROUTER_API_KEY) {\n    config.openrouter = { ...config.openrouter, enabled: true, apiKey: process.env.OPENROUTER_API_KEY };\n  }\n\n  // OpenAI\n  if (process.env.OPENAI_API_KEY) {\n    config.openai = { ...config.openai, enabled: true, apiKey: process.env.OPENAI_API_KEY };\n  }\n\n  // Anthropic\n  if (process.env.ANTHROPIC_API_KEY) {\n    config.anthropic = { ...config.anthropic, enabled: true, apiKey: process.env.ANTHROPIC_API_KEY };\n  }\n\n  // Google\n  if (process.env.GOOGLE_API_KEY) {\n    config.google = { ...config.google, enabled: true, apiKey: process.env.GOOGLE_API_KEY };\n  }\n\n  // xAI\n  if (process.env.XAI_API_KEY) {\n    config.xai = { ...config.xai, enabled: true, apiKey: process.env.XAI_API_KEY };\n  }\n\n  // DeepSeek\n  if (process.env.DEEPSEEK_API_KEY) {\n    config.deepseek = { ...config.deepseek, enabled: true, apiKey: process.env.DEEPSEEK_API_KEY };\n  }\n\n  // Moonshot\n  if (process.env.MOONSHOT_API_KEY) {\n    config.moonshot = { ...config.moonshot, enabled: true, apiKey: process.env.MOONSHOT_API_KEY };\n  }\n\n  // OpenCode\n  if (process.env.OPENCODE_API_KEY) {\n    config.opencode = { ...config.opencode, enabled: true, apiKey: process.env.OPENCODE_API_KEY };\n  }\n\n  // Azure\n  if (process.env.AZURE_OPENAI_API_KEY && process.env.AZURE_OPENAI_ENDPOINT) {\n    config.azure = { \n      ...config.azure, \n      enabled: true, \n      apiKey: process.env.AZURE_OPENAI_API_KEY,\n      baseUrl: process.env.AZURE_OPENAI_ENDPOINT \n    };\n  }\n\n  // Anyscale\n  if (process.env.ANYSCALE_API_KEY) {\n    config.anyscale = { ...config.anyscale, enabled: true, apiKey: process.env.ANYSCALE_API_KEY };\n  }\n\n  // Together\n  if (process.env.TOGETHER_API_KEY) {\n    config.together = { ...config.together, enabled: true, apiKey: process.env.TOGETHER_API_KEY };\n  }\n\n  // Fireworks\n  if (process.env.FIREWORKS_API_KEY) {\n    config.fireworks = { ...config.fireworks, enabled: true, apiKey: process.env.FIREWORKS_API_KEY };\n  }\n\n  // Mistral\n  if (process.env.MISTRAL_API_KEY) {\n    config.mistral = { ...config.mistral, enabled: true, apiKey: process.env.MISTRAL_API_KEY };\n  }\n\n  // Cohere\n  if (process.env.COHERE_API_KEY) {\n    config.cohere = { ...config.cohere, enabled: true, apiKey: process.env.COHERE_API_KEY };\n  }\n\n  // Perplexity\n  if (process.env.PERPLEXITY_API_KEY) {\n    config.perplexity = { ...config.perplexity, enabled: true, apiKey: process.env.PERPLEXITY_API_KEY };\n  }\n\n  return config;\n}\n\n/**\n * Check if provider is valid\n */\nfunction isValidProvider(provider: string): provider is LLMProvider {\n  const validProviders: LLMProvider[] = [\n    'openrouter', 'openai', 'anthropic', 'google', 'xai', \n    'deepseek', 'moonshot', 'opencode', 'azure', 'anyscale',\n    'together', 'fireworks', 'mistral', 'cohere', 'perplexity'\n  ];\n  return validProviders.includes(provider as LLMProvider);\n}\n\n/**\n * Load API keys from environment (for runtime)\n */\nexport function loadApiKeysFromEnv(): ApiKeysConfig {\n  return {\n    openrouter: { apiKey: process.env.OPENROUTER_API_KEY },\n    openai: { apiKey: process.env.OPENAI_API_KEY },\n    anthropic: { apiKey: process.env.ANTHROPIC_API_KEY },\n    google: { apiKey: process.env.GOOGLE_API_KEY },\n    xai: { apiKey: process.env.XAI_API_KEY },\n    deepseek: { apiKey: process.env.DEEPSEEK_API_KEY },\n    moonshot: { apiKey: process.env.MOONSHOT_API_KEY },\n    opencode: { apiKey: process.env.OPENCODE_API_KEY },\n    azure: { apiKey: process.env.AZURE_OPENAI_API_KEY, endpoint: process.env.AZURE_OPENAI_ENDPOINT },\n    anyscale: { apiKey: process.env.ANYSCALE_API_KEY },\n    together: { apiKey: process.env.TOGETHER_API_KEY },\n    fireworks: { apiKey: process.env.FIREWORKS_API_KEY },\n    mistral: { apiKey: process.env.MISTRAL_API_KEY },\n    cohere: { apiKey: process.env.COHERE_API_KEY },\n    perplexity: { apiKey: process.env.PERPLEXITY_API_KEY },\n  };\n}\n\n/**\n * Get environment variable usage instructions\n */\nexport function getEnvInstructions(): string {\n  return `\nEnvironment Variables (LLM Providers):\n  OPENROUTER_API_KEY    - OpenRouter (all models)\n  OPENAI_API_KEY        - OpenAI (GPT-4o, GPT-5, o-series)\n  ANTHROPIC_API_KEY     - Anthropic (Claude)\n  GOOGLE_API_KEY        - Google (Gemini)\n  XAI_API_KEY           - xAI (Grok)\n  DEEPSEEK_API_KEY      - DeepSeek\n  MOONSHOT_API_KEY      - Moonshot (Kimi)\n  OPENCODE_API_KEY      - OpenCode models\n  AZURE_OPENAI_API_KEY  - Azure OpenAI\n  ANYSCALE_API_KEY      - Anyscale\n  TOGETHER_API_KEY      - Together AI\n  FIREWORKS_API_KEY     - Fireworks AI\n  MISTRAL_API_KEY       - Mistral\n  COHERE_API_KEY        - Cohere\n  PERPLEXITY_API_KEY    - Perplexity\n`.trim();\n}\n","/**\n * Stats Collector and Utilities\n */\n\nimport type { LLMProvider, ProviderStats, AggregatedStats } from \"./types\";\n\nexport interface DailyStats {\n  date: string;\n  requests: number;\n  promptTokens: number;\n  completionTokens: number;\n  cost: number;\n}\n\nexport class StatsCollector {\n  private stats: Map<LLMProvider, ProviderStats> = new Map();\n\n  recordRequest(provider: LLMProvider, promptTokens: number, completionTokens: number, latencyMs: number): void {\n    let stat = this.stats.get(provider);\n    if (!stat) {\n      stat = { provider, requests: 0, promptTokens: 0, completionTokens: 0, totalCost: 0, errors: 0, avgLatency: 0, lastActivity: 0 };\n      this.stats.set(provider, stat);\n    }\n    stat.requests++;\n    stat.promptTokens += promptTokens;\n    stat.completionTokens += completionTokens;\n    stat.avgLatency = (stat.avgLatency * (stat.requests - 1) + latencyMs) / stat.requests;\n    stat.lastActivity = Date.now();\n  }\n\n  recordError(provider: LLMProvider): void {\n    const stat = this.stats.get(provider);\n    if (stat) stat.errors++;\n  }\n\n  getAggregated(): AggregatedStats {\n    let totalRequests = 0, totalPrompt = 0, totalCompletion = 0, totalCost = 0, totalErrors = 0;\n    for (const stat of this.stats.values()) {\n      totalRequests += stat.requests;\n      totalPrompt += stat.promptTokens;\n      totalCompletion += stat.completionTokens;\n      totalErrors += stat.errors;\n    }\n    return { totalRequests, totalPromptTokens: totalPrompt, totalCompletionTokens: totalCompletion, totalCost, totalErrors, byProvider: Array.from(this.stats.values()), savingsVsOpenRouter: 0 };\n  }\n}\n\n/**\n * Get stats for a time period\n */\nexport async function getStats(days: number): Promise<DailyStats[]> {\n  // Placeholder implementation - in production this would read from logs\n  return Array.from({ length: days }, (_, i) => ({\n    date: new Date(Date.now() - i * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0],\n    requests: 0,\n    promptTokens: 0,\n    completionTokens: 0,\n    cost: 0,\n  }));\n}\n\n/**\n * Format stats as ASCII table\n */\nexport function formatStatsAscii(stats: DailyStats[]): string {\n  if (stats.length === 0) return \"No stats available\";\n  \n  const lines = [\n    \"OmniLLM Usage Statistics\",\n    \"========================\",\n    \"\",\n    \"Date        | Requests | Tokens  | Cost\",\n    \"------------|----------|---------|-------\",\n  ];\n  \n  for (const day of stats) {\n    const tokens = day.promptTokens + day.completionTokens;\n    lines.push(\n      `${day.date} | ${day.requests.toString().padStart(8)} | ${tokens.toString().padStart(7)} | $${day.cost.toFixed(4)}`\n    );\n  }\n  \n  return lines.join(\"\\n\");\n}\n","/**\n * OmniLLM - OpenClaw Provider Plugin\n * \n * Multi-provider LLM router that registers as an OpenClaw provider.\n * Supports OpenRouter, OpenAI, Anthropic, Google, xAI, DeepSeek, Moonshot, OpenCode, and more.\n * \n * Usage:\n *   openclaw plugins install ./omni-provider\n *   export OPENROUTER_API_KEY=sk-or-...\n *   openclaw models set omni-llm/auto\n */\n\nimport type {\n  OpenClawPluginDefinition,\n  OpenClawPluginApi,\n  PluginCommandContext,\n  OpenClawPluginCommandDefinition,\n} from \"./types/openclaw.js\";\nimport { omniLLMProvider, getProxyPort } from \"./provider.js\";\nimport { VERSION } from \"./version.js\";\nimport { OPENCLAW_MODELS, buildProviderModels } from \"./models.js\";\nimport { loadProviderConfig, loadApiKeysFromEnv } from \"./config/index.js\";\nimport { getStats, formatStatsAscii } from \"./stats.js\";\nimport { readFileSync, writeFileSync, existsSync, mkdirSync } from \"node:fs\";\nimport { homedir } from \"node:os\";\nimport { join } from \"node:path\";\n\n// Track active proxy handle for cleanup\nlet activeProxyHandle: { close: () => Promise<void> } | null = null;\n\n/**\n * Check if running in completion mode (direct model usage)\n */\nfunction isCompletionMode(): boolean {\n  return process.argv.some((arg, i) => arg === \"completion\" && i >= 1 && i <= 3);\n}\n\n/**\n * Inject OmniLLM models into OpenClaw config file\n * This ensures the models are available in the UI\n */\nfunction injectModelsConfig(logger: { info: (msg: string) => void }): void {\n  const configDir = join(homedir(), \".openclaw\");\n  const configPath = join(configDir, \"openclaw.json\");\n\n  let config: Record<string, unknown> = {};\n  let needsWrite = false;\n\n  if (!existsSync(configDir)) {\n    try {\n      mkdirSync(configDir, { recursive: true });\n    } catch {\n      return;\n    }\n  }\n\n  if (existsSync(configPath)) {\n    try {\n      const content = readFileSync(configPath, \"utf-8\").trim();\n      if (content) config = JSON.parse(content);\n      else needsWrite = true;\n    } catch {\n      config = {};\n      needsWrite = true;\n    }\n  } else {\n    needsWrite = true;\n  }\n\n  if (!config.models) {\n    config.models = {};\n    needsWrite = true;\n  }\n  const models = config.models as Record<string, unknown>;\n  if (!models.providers) {\n    models.providers = {};\n    needsWrite = true;\n  }\n\n  const proxyPort = getProxyPort();\n  const expectedBaseUrl = `http://127.0.0.1:${proxyPort}/v1`;\n  const providers = models.providers as Record<string, unknown>;\n\n  if (!providers[\"omni-llm\"]) {\n    providers[\"omni-llm\"] = {\n      baseUrl: expectedBaseUrl,\n      api: \"openai-completions\",\n      apiKey: \"local-proxy\",\n      models: OPENCLAW_MODELS,\n    };\n    needsWrite = true;\n  } else {\n    const omni = providers[\"omni-llm\"] as Record<string, unknown>;\n    let fixed = false;\n    if (!omni.baseUrl || omni.baseUrl !== expectedBaseUrl) {\n      omni.baseUrl = expectedBaseUrl;\n      fixed = true;\n    }\n    if (!omni.api) {\n      omni.api = \"openai-completions\";\n      fixed = true;\n    }\n    if (!omni.apiKey) {\n      omni.apiKey = \"local-proxy\";\n      fixed = true;\n    }\n    const currentModels = omni.models as unknown[];\n    if (!currentModels || !Array.isArray(currentModels) || currentModels.length !== OPENCLAW_MODELS.length) {\n      omni.models = OPENCLAW_MODELS;\n      fixed = true;\n    }\n    if (fixed) needsWrite = true;\n  }\n\n  // Set default model on first install\n  if (!config.agents) {\n    config.agents = {};\n    needsWrite = true;\n  }\n  const agents = config.agents as Record<string, unknown>;\n  if (!agents.defaults) {\n    agents.defaults = {};\n    needsWrite = true;\n  }\n  const defaults = agents.defaults as Record<string, unknown>;\n  if (!defaults.model) {\n    defaults.model = {};\n    needsWrite = true;\n  }\n  const model = defaults.model as Record<string, unknown>;\n  if (!model.primary) {\n    model.primary = \"omni-llm/auto\";\n    needsWrite = true;\n  }\n\n  // Register model aliases\n  const KEY_ALIASES = [\n    { id: \"auto\", alias: \"auto\" },\n    { id: \"sonnet\", alias: \"sonnet\" },\n    { id: \"opus\", alias: \"opus\" },\n    { id: \"haiku\", alias: \"haiku\" },\n    { id: \"gpt\", alias: \"gpt\" },\n    { id: \"flash\", alias: \"flash\" },\n    { id: \"deepseek\", alias: \"deepseek\" },\n    { id: \"grok\", alias: \"grok\" },\n    { id: \"kimi\", alias: \"kimi\" },\n    { id: \"reasoner\", alias: \"reasoner\" },\n  ];\n\n  if (!defaults.models) {\n    defaults.models = {};\n    needsWrite = true;\n  }\n  const allowlist = defaults.models as Record<string, unknown>;\n  for (const m of KEY_ALIASES) {\n    const fullId = `omni-llm/${m.id}`;\n    if (!allowlist[fullId]) {\n      allowlist[fullId] = { alias: m.alias };\n      needsWrite = true;\n    }\n  }\n\n  if (needsWrite) {\n    try {\n      writeFileSync(configPath, JSON.stringify(config, null, 2));\n      logger.info(`Updated OpenClaw config with OmniLLM models`);\n    } catch {\n      // Ignore write errors\n    }\n  }\n}\n\n/**\n * Create the stats command\n */\nasync function createStatsCommand(): Promise<OpenClawPluginCommandDefinition> {\n  return {\n    name: \"stats\",\n    description: \"Show OmniLLM usage statistics and cost savings\",\n    acceptsArgs: true,\n    requireAuth: false,\n    handler: async (ctx: PluginCommandContext) => {\n      const days = parseInt(ctx.args?.trim() || \"7\", 10) || 7;\n      try {\n        const stats = await getStats(Math.min(days, 30));\n        return { text: [\"```\", formatStatsAscii(stats), \"```\"].join(\"\\n\") };\n      } catch (err) {\n        return {\n          text: `Failed to load stats: ${err instanceof Error ? err.message : String(err)}`,\n          isError: true,\n        };\n      }\n    },\n  };\n}\n\n/**\n * Create the providers command to show configured API keys\n */\nasync function createProvidersCommand(api: OpenClawPluginApi): Promise<OpenClawPluginCommandDefinition> {\n  return {\n    name: \"providers\",\n    description: \"Show configured OmniLLM provider status\",\n    acceptsArgs: false,\n    requireAuth: false,\n    handler: async () => {\n      const apiKeys = loadApiKeysFromEnv();\n      const providers = Object.entries(apiKeys)\n        .filter(([_, cfg]) => cfg && typeof cfg === \"object\" && \"apiKey\" in cfg && cfg.apiKey)\n        .map(([name, cfg]) => {\n          const config = cfg as { apiKey?: string };\n          const key = config.apiKey || \"\";\n          const masked = key.length > 8 ? `${key.slice(0, 4)}...${key.slice(-4)}` : \"****\";\n          return `â€¢ **${name}**: \\`${masked}\\` âœ…`;\n        });\n\n      if (providers.length === 0) {\n        return {\n          text: [\n            \"ðŸ”‘ **OmniLLM API Keys**\",\n            \"\",\n            \"No API keys configured!\",\n            \"\",\n            \"**Quickest setup (one key â†’ all models):**\",\n            \"â€¢ `OPENROUTER_API_KEY=sk-or-...`\",\n            \"\",\n            \"**Or configure individual providers:**\",\n            \"â€¢ `OPENAI_API_KEY=sk-...`\",\n            \"â€¢ `ANTHROPIC_API_KEY=sk-ant-...`\",\n            \"â€¢ `GOOGLE_API_KEY=AIza...`\",\n            \"â€¢ `XAI_API_KEY=xai-...`\",\n            \"â€¢ `DEEPSEEK_API_KEY=sk-...`\",\n            \"\",\n            \"**Or edit:** `~/.openclaw/omni-llm/config.json`\",\n          ].join(\"\\n\"),\n        };\n      }\n\n      return {\n        text: [\n          \"ðŸ”‘ **OmniLLM API Keys**\",\n          \"\",\n          ...providers,\n          \"\",\n          `**${providers.length} providers configured**`,\n        ].join(\"\\n\"),\n      };\n    },\n  };\n}\n\n// Main plugin definition\nconst plugin: OpenClawPluginDefinition = {\n  id: \"omni-llm\",\n  name: \"OmniLLM\",\n  description: \"Multi-provider LLM router â€” your keys, smart routing, maximum flexibility\",\n  version: VERSION,\n\n  register(api: OpenClawPluginApi) {\n    const isDisabled = process.env.OMNI_LLM_DISABLED === \"true\" || process.env.OMNI_LLM_DISABLED === \"1\";\n    if (isDisabled) {\n      api.logger.info(\"OmniLLM disabled (OMNI_LLM_DISABLED=true)\");\n      return;\n    }\n\n    // In completion mode, just register the provider\n    if (isCompletionMode()) {\n      api.registerProvider(omniLLMProvider);\n      return;\n    }\n\n    // Load configuration\n    const { providers } = loadProviderConfig(api.pluginConfig || {});\n    const apiKeys = loadApiKeysFromEnv();\n\n    const enabledProviders = Object.entries(providers)\n      .filter(([_, cfg]) => cfg.enabled)\n      .map(([provider]) => provider);\n\n    if (enabledProviders.length === 0) {\n      api.logger.warn(\"OmniLLM: No providers enabled! Configure at least one provider.\");\n      return;\n    }\n\n    api.logger.info(`OmniLLM: Configured providers: ${enabledProviders.join(\", \")}`);\n\n    // Register the provider with OpenClaw\n    api.registerProvider(omniLLMProvider);\n\n    // Inject models into OpenClaw config\n    injectModelsConfig(api.logger);\n\n    // Configure runtime models\n    const runtimePort = getProxyPort();\n    if (!api.config.models) api.config.models = { providers: {} };\n    if (!api.config.models.providers) api.config.models.providers = {};\n    api.config.models.providers[\"omni-llm\"] = {\n      baseUrl: `http://127.0.0.1:${runtimePort}/v1`,\n      api: \"openai-completions\",\n      apiKey: \"local-proxy\",\n      models: OPENCLAW_MODELS,\n    };\n\n    // Set default model if not configured\n    if (!api.config.agents) api.config.agents = {};\n    const agents = api.config.agents as Record<string, unknown>;\n    if (!agents.defaults) agents.defaults = {};\n    const defaults = agents.defaults as Record<string, unknown>;\n    if (!defaults.model) defaults.model = {};\n    const model = defaults.model as Record<string, unknown>;\n    if (!model.primary) model.primary = \"omni-llm/auto\";\n\n    api.logger.info(`OmniLLM registered (${enabledProviders.length} providers)`);\n\n    // Register commands\n    createStatsCommand()\n      .then((cmd) => api.registerCommand(cmd))\n      .catch(() => {});\n    createProvidersCommand(api)\n      .then((cmd) => api.registerCommand(cmd))\n      .catch(() => {});\n\n    // Register service for cleanup\n    api.registerService({\n      id: \"omni-llm-service\",\n      start: () => {},\n      stop: async () => {\n        if (activeProxyHandle) {\n          try {\n            await activeProxyHandle.close();\n          } catch {\n            // Ignore cleanup errors\n          }\n          activeProxyHandle = null;\n        }\n      },\n    });\n  },\n};\n\nexport default plugin;\n\n// Re-exports for library usage\nexport { omniLLMProvider, getProxyPort } from \"./provider.js\";\nexport {\n  OPENCLAW_MODELS,\n  MODEL_ALIASES,\n  buildProviderModels,\n  resolveModelAlias,\n  getModel,\n  getModelsByProvider,\n  getFreeModels,\n  isAgenticModel,\n  getAgenticModels,\n  getModelContextWindow,\n} from \"./models.js\";\nexport { VERSION } from \"./version.js\";\nexport { getStats, formatStatsAscii } from \"./stats.js\";\nexport type { DailyStats } from \"./stats.js\";\nexport type { AggregatedStats } from \"./types.js\";\n"],"mappings":"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","names":[]}